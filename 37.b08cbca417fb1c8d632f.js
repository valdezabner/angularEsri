(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"5Q/x":function(e,r,a){"use strict";a.r(r),a.d(r,"populateOperationalLayers",function(){return d});var t=a("HaE+"),y=(a("wSAH"),a("9MzC")),n=a("LE9a"),i=a("p+Gi"),l=a("YOx9"),c=a("oLSx"),L=a("Dfpg");function o(e,r){return p(e,r,"notes","Map Notes")}function u(e,r){return p(e,r,"route","Route Layer")}function p(e,r,a,t){return s.apply(this,arguments)}function s(){return(s=Object(t.a)(function*(e,r,a,t){if(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)return!1;if(e.url)return!1;if(e.featureCollectionType&&e.featureCollectionType===a)return!0;if(e.itemId){const a=new i.default({id:e.itemId,portal:r});return yield a.load(),"Feature Collection"===a.type&&Object(L.a)(a,t)}return!1})).apply(this,arguments)}var S=a("XJLX");function d(e,r,a){return f.apply(this,arguments)}function f(){return(f=Object(t.a)(function*(e,r,a){if(!r)return;const t=[];for(const y of r){const e=b(y,a);t.push("GroupLayer"===y.layerType?V(e,y,a):e)}const n=yield Object(y.j)(t);for(const y of n)!y.value||a.filter&&!a.filter(y.value)||e.add(y.value)})).apply(this,arguments)}const I={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},T={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},g={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},M={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},G={ArcGISFeatureLayer:"FeatureLayer"},m={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};function b(e,r){return A.apply(this,arguments)}function A(){return(A=Object(t.a)(function*(e,r){return v(yield w(e,r),e,r)})).apply(this,arguments)}function v(e,r,a){return h.apply(this,arguments)}function h(){return(h=Object(t.a)(function*(e,r,a){const t=new e;return t.read(r,a.context),"group"===t.type&&W(r)&&(yield j(t,r,a.context)),yield Object(l.a)(t,a.context),t})).apply(this,arguments)}function w(e,r){return O.apply(this,arguments)}function O(){return(O=Object(t.a)(function*(e,r){const a=r.context,t=B(a);let y=e.layerType||e.type;!y&&r&&r.defaultLayerType&&(y=r.defaultLayerType);const n=t[y];let l=n?c.a[n]:c.a.UnknownLayer;const L=a&&a.portal;if(C(e)){if(e.itemId){const r=new i.default({id:e.itemId,portal:L});yield r.load();const a=(yield Object(S.selectLayerClassPath)(r)).className||"UnknownLayer";l=c.a[a]}}else"ArcGISFeatureLayer"===y&&((yield o(e,L))?l=c.a.MapNotesLayer:(yield u(e,L))?l=c.a.RouteLayer:W(e)&&(l=c.a.GroupLayer));return e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(l=c.a.WMTSLayer),l()})).apply(this,arguments)}function W(e){if("ArcGISFeatureLayer"!==e.layerType||C(e))return!1;const r=e.featureCollection;return!!(r&&r.layers&&r.layers.length>1)}function C(e){return"Feature Collection"===e.type}function B(e){let r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=g;break;case"ground":r=T;break;default:r=I}break;default:switch(e.layerContainerType){case"basemap":r=m;break;case"tables":r=G;break;default:r=M}}return r}function V(e,r,a){return F.apply(this,arguments)}function F(){return(F=Object(t.a)(function*(e,r,a){const t=new n.a,y=d(t,Array.isArray(r.layers)?r.layers:[],a),i=yield e;if(yield y,"group"===i.type)return i.layers.addMany(t),i})).apply(this,arguments)}function j(e,r,a){return k.apply(this,arguments)}function k(){return(k=Object(t.a)(function*(e,r,a){const t=c.a.FeatureLayer,y=yield t(),n=r.featureCollection,i=n.showLegend,l=n.layers.map(e=>{const r=new y;return r.read(e,a),null!=i&&r.read({showLegend:i},a),r});e.layers.addMany(l)})).apply(this,arguments)}}}]);