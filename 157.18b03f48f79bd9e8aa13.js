(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{t0D6:function(e,t,r){"use strict";r.r(t);var a=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("04ZG"),o=(r("4EHJ"),r("ju1D"),r("9AIY"),r("kglp")),n=r("HaE+"),c=r("Lqtk"),l=r("qNUd"),u=r("u3Ia"),p=r("o6Le"),b=r("ZKYY"),y=r("srIe"),O=r("r88o"),j=r("ag7Y"),d=r("WZb1"),f=r("SuVq"),m=r("Ehki"),B=r("UhwK"),h=(r("4GrV"),r("jWBI")),g=r("8prj"),v=r("54nt"),k=r("eKLr");function S(e){return g.default.fromJSON(e).features.map(e=>e.geometry)}let A=class extends j.a{constructor(e){super(e),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(e){return S(e)}readIncidents(e){return S(e)}readPointBarriers(e,t){return S(t.barriers)}readPolylineBarriers(e){return S(e)}readPolygonBarriers(e){return S(e)}readRoutes(e){return function(e){return e.features.map(t=>{const r=d.a.fromJSON(e.spatialReference),a=h.a.fromJSON(t);return Object(y.i)(a.geometry)&&(a.geometry.spatialReference=r),a})}(e)}};Object(a.a)([Object(i.b)({type:[k.a]})],A.prototype,"directions",void 0),Object(a.a)([Object(i.b)({type:[f.a]})],A.prototype,"facilities",void 0),Object(a.a)([Object(O.a)("facilities")],A.prototype,"readFacilities",null),Object(a.a)([Object(i.b)({type:[f.a]})],A.prototype,"incidents",void 0),Object(a.a)([Object(O.a)("incidents")],A.prototype,"readIncidents",null),Object(a.a)([Object(i.b)({type:[v.a]})],A.prototype,"messages",void 0),Object(a.a)([Object(i.b)({type:[f.a]})],A.prototype,"pointBarriers",void 0),Object(a.a)([Object(O.a)("pointBarriers",["barriers"])],A.prototype,"readPointBarriers",null),Object(a.a)([Object(i.b)({type:[B.a]})],A.prototype,"polylineBarriers",void 0),Object(a.a)([Object(O.a)("polylineBarriers")],A.prototype,"readPolylineBarriers",null),Object(a.a)([Object(i.b)({type:[m.a]})],A.prototype,"polygonBarriers",void 0),Object(a.a)([Object(O.a)("polygonBarriers")],A.prototype,"readPolygonBarriers",null),Object(a.a)([Object(i.b)({type:[h.a]})],A.prototype,"routes",void 0),Object(a.a)([Object(O.a)("routes")],A.prototype,"readRoutes",null),A=Object(a.a)([Object(s.a)("esri.tasks.support.ClosestFacilitySolveResult")],A);var P=A;const R=Object(p.a)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});function w(){return(w=Object(n.a)(function*(e,t,r){const a=[],i=[],s={},o={},n=Object(u.c)(e);return t.incidents&&t.incidents.features&&Object(b.a)(t.incidents.features,i,"incidents.features",s),t.facilities&&t.facilities.features&&Object(b.a)(t.facilities.features,i,"facilities.features",s),t.pointBarriers&&t.pointBarriers.features&&Object(b.a)(t.pointBarriers.features,i,"pointBarriers.features",s),t.polylineBarriers&&t.polylineBarriers.features&&Object(b.a)(t.polylineBarriers.features,i,"polylineBarriers.features",s),t.polygonBarriers&&t.polygonBarriers.features&&Object(b.a)(t.polygonBarriers.features,i,"polygonBarriers.features",s),Object(l.a)(i).then(e=>{for(const t in s){const r=s[t];a.push(t),o[t]=e.slice(r[0],r[1])}return Object(b.e)(o,a)?Object(b.c)(n.path):Promise.resolve({dontCheck:!0})}).then(e=>{("dontCheck"in e?e.dontCheck:e.hasZ)||Object(b.b)(o,a);for(const r in o)o[r].forEach((e,a)=>{t.get(r)[a].geometry=e});let i={query:{...n.query,f:"json",...R.toQueryParams(t)}};return r&&(i={...r,...i}),Object(c.default)(`${n.path}/solveClosestFacility`,i)}).then(e=>P.fromJSON(e.data))})).apply(this,arguments)}var N=r("OvWd");let I=class extends(Object(N.a)(o.a)){constructor(e){super(e),this.url=null}solve(e,t){return function(e,t,r){return w.apply(this,arguments)}(this.url,e,t)}};Object(a.a)([Object(i.b)()],I.prototype,"url",void 0),I=Object(a.a)([Object(s.a)("esri.tasks.ClosestFacilityTask")],I),t.default=I}}]);