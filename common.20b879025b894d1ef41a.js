(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/ADo":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("VeZB"),i=r("grla");class s{constructor(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(const r of e.fieldNames){const t=e.fields.get(r);this[r]=new t.constructor(this.buffer,t.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(e,t){const r=this[e];return r&&r.elementCount===t.ElementCount&&r.elementType===t.ElementType?r:null}slice(e,t){return new s(this.layout,this.buffer.slice(e*this.stride,t*this.stride))}copyFrom(e,t,r,n){const i=this.stride;if(i%4==0){const s=new Uint32Array(e.buffer,t*i,n*i/4);new Uint32Array(this.buffer,r*i,n*i/4).set(s)}else{const s=new Uint8Array(e.buffer,t*i,n*i);new Uint8Array(this.buffer,r*i,n*i).set(s)}}}class a{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(e,t){return this.appendField(e,n.m,t),this}vec2f64(e,t){return this.appendField(e,n.n,t),this}vec3f(e,t){return this.appendField(e,n.u,t),this}vec3f64(e,t){return this.appendField(e,n.v,t),this}vec4f(e,t){return this.appendField(e,n.C,t),this}vec4f64(e,t){return this.appendField(e,n.D,t),this}mat3f(e,t){return this.appendField(e,n.f,t),this}mat3f64(e,t){return this.appendField(e,n.g,t),this}mat4f(e,t){return this.appendField(e,n.h,t),this}mat4f64(e,t){return this.appendField(e,n.i,t),this}vec4u8(e,t){return this.appendField(e,n.J,t),this}f32(e,t){return this.appendField(e,n.a,t),this}f64(e,t){return this.appendField(e,n.b,t),this}u8(e,t){return this.appendField(e,n.l,t),this}u16(e,t){return this.appendField(e,n.j,t),this}i8(e,t){return this.appendField(e,n.e,t),this}vec2i8(e,t){return this.appendField(e,n.q,t),this}vec2i16(e,t){return this.appendField(e,n.o,t),this}vec2u8(e,t){return this.appendField(e,n.t,t),this}vec4u16(e,t){return this.appendField(e,n.H,t),this}u32(e,t){return this.appendField(e,n.k,t),this}appendField(e,t,r){const n=t.ElementCount*Object(i.a)(t.ElementType);this.fields.set(e,{size:n,constructor:t,offset:this.stride,optional:r}),this.stride+=n,this.fieldNames.push(e)}alignTo(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this}hasField(e){return this.fieldNames.indexOf(e)>=0}createBuffer(e){return new s(this,e)}createView(e){return new s(this,e)}clone(){const e=new a;return e.stride=this.stride,e.fields=new Map,this.fields.forEach((t,r)=>e.fields.set(r,t)),e.fieldNames=this.fieldNames.slice(),e.BufferType=this.BufferType,e}}function o(){return new a}},"1agI":function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return a}),r.d(t,"e",function(){return o});var n=r("OKTS"),i=r("feGD"),s=r("jIHu");const a=0,o=1,c=2;class l{constructor(e,t){this.width=e,this.height=t;const r=Math.ceil(e/1),n=Math.ceil(t/1);this._cols=r,this._rows=n,this._cells=i.a.create(r*n)}insertMetrics(e){const t=this._hasCollision(e);return t===a&&this._markMetrics(e),t}getCellId(e,t){return e+t*this._cols}has(e){return this._cells.has(e)}hasRange(e,t){return this._cells.hasRange(e,t)}set(e){this._cells.set(e)}setRange(e,t){this._cells.setRange(e,t)}_hasCollision(e){const t=e.id;let r=0,n=0;e.save();do{const t=e.boundsCount;r+=t;for(let r=0;r<t;r++){const t=e.boundsComputedAnchorX(r),i=e.boundsComputedAnchorY(r),s=e.boundsWidth(r)+2,a=e.boundsHeight(r)+2;switch(this._collide(t,i,s,a)){case c:return c;case o:n++}}}while(e.peekId()===t&&e.next());return e.restore(),r===n?o:a}_collide(e,t,r,i){const s=e-r/2,l=e+r/2,u=t-i/2,f=t+i/2;if(l<0||f<0||s>this.width||u>this.height)return o;const d=Object(n.c)(Math.floor(s/1),0,this._cols),h=Object(n.c)(Math.floor(u/1),0,this._rows),p=Object(n.c)(Math.ceil(l/1),0,this._cols),y=Object(n.c)(Math.ceil(f/1),0,this._rows);for(let n=h;n<=y;n++)for(let e=d;e<=p;e++){const t=this.getCellId(e,n);if(this.has(t))return c}return a}_mark(e,t,r,i){const s=e-r/2,a=e+r/2,o=t-i/2,c=t+i/2,l=Object(n.c)(Math.floor(s/1),0,this._cols),u=Object(n.c)(Math.floor(o/1),0,this._rows),f=Object(n.c)(Math.ceil(a/1),0,this._cols),d=Object(n.c)(Math.ceil(c/1),0,this._rows);for(let n=u;n<=d;n++)for(let e=l;e<=f;e++){const t=this.getCellId(e,n);this.set(t)}return!1}_markMetrics(e){const t=e.id;do{const t=e.boundsCount;for(let r=0;r<t;r++){const t=e.boundsComputedAnchorX(r),n=e.boundsComputedAnchorY(r),i=e.boundsWidth(r)+2,s=e.boundsHeight(r)+2;this._mark(t,n,i,s)}}while(e.peekId()===t&&e.next())}}class u{constructor(e,t=2){this._bucketSize=e,this._rowsLength=s.E/e,this._colsLength=s.E/e,this._elementsPerBucket=t,this._grid=this._initGrid()}checkOverlap(e,t){const r=Math.floor(e/this._bucketSize),n=Math.floor(t/this._bucketSize);return r<0||r>=this._rowsLength||n<0||n>=this._colsLength||this._grid[n*this._colsLength+r]>=this._elementsPerBucket}markUsed(e,t){const r=Math.floor(e/this._bucketSize),n=Math.floor(t/this._bucketSize);this._grid[n*this._colsLength+r]+=1}reset(){this._grid=this._initGrid()}_initGrid(){return new Uint8Array(this._rowsLength*this._colsLength)}}},"2uVf":function(e,t,r){"use strict";function n(){return[1,0,0,0,1,0,0,0,1]}function i(e,t){return new Float64Array(e,t,9)}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},fromValues:function(e,t,r,n,i,s,a,o,c){return[e,t,r,n,i,s,a,o,c]},createView:i})},3:function(e,t){},4:function(e,t){},"46M0":function(e,t,r){"use strict";r.d(t,"a",function(){return w}),r.d(t,"b",function(){return v}),r.d(t,"c",function(){return j});var n=r("zlDU"),i=r("k5I3"),s=r("gVKr");function a(e){const t=[];return e.forEach(e=>t.push(e)),t}const o={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function*c(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*l(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function u(e){for(;;){const{value:t,done:r}=e.next();if(r)return!1;if(t.length>2)return!0}}function f(e){let t=0;for(let r=0;r<e.length;r++){const n=e[r],i=e[(r+1)%e.length];t+=n[0]*i[1]-i[0]*n[1]}return t<=0}function d(e){const t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function h(e,t,r){switch(t.type){case"LineString":return function(e,t,r){return b(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){for(const n of t.coordinates)b(e,n,r);return e}(e,t,r);case"MultiPoint":return function(e,t,r){return b(e,t.coordinates,r),e}(e,t,r);case"MultiPolygon":return function(e,t,r){for(const n of t.coordinates){p(e,n[0],r);for(let t=1;t<n.length;t++)y(e,n[t],r)}return e}(e,t,r);case"Point":return function(e,t,r){return g(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){const n=t.coordinates;p(e,n[0],r);for(let i=1;i<n.length;i++)y(e,n[i],r);return e}(e,t,r)}}function p(e,t,r){const n=d(t);!function(e){return!f(e)}(n)?b(e,n,r):m(e,n,r)}function y(e,t,r){const n=d(t);!function(e){return f(e)}(n)?b(e,n,r):m(e,n,r)}function b(e,t,r){for(const n of t)g(e,n,r);e.lengths.push(t.length)}function m(e,t,r){for(let n=t.length-1;n>=0;n--)g(e,t[n],r);e.lengths.push(t.length)}function g(e,t,r){const[n,i,s]=t;e.coords.push(n,i),r.hasZ&&e.coords.push(s||0)}function O(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function j(e){if(!e)throw new n.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new n.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const r="string"==typeof t?t:"name"===t.type?t.properties.name:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!i.test(r))throw new n.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function v(e,t={}){const r=c(e),n=[],i=new Set,s=new Set;let f,d=!1,h=Number.NEGATIVE_INFINITY,p=null,y=!1,{geometryType:b=null}=t,m=!1;for(;;){const{value:e,done:t}=r.next();if(t){const e=p&&1===p.length&&p[0]||null;if(e)for(const t of n)t.name===e&&(t.type="esriFieldTypeOID");return{fields:n,geometryType:b,hasZ:d,maxObjectId:Math.max(0,h),objectIdFieldName:e,objectIdFieldType:f,unknownFields:a(s)}}const{geometry:c,properties:g,id:j}=e;if((!c||(b||(b=o[c.type]),o[c.type]===b))&&(d||(d=u(l(c))),y||(y=null!=j,y&&(f=typeof j,"number"===f&&(p=Object.keys(g).filter(e=>g[e]===j)))),y&&"number"===f&&null!=j&&(h=Math.max(h,j),p.length>1?p=p.filter(e=>g[e]===j):1===p.length&&(p=g[p[0]]===j?p:[])),!m&&g)){let e=!0;for(const t in g){if(i.has(t))continue;const r=g[t];if(null==r){e=!1,s.add(t);continue}const a=O(r);"unknown"!==a?(s.delete(t),i.add(t),n.push({name:t,alias:t,type:a})):s.add(t)}m=e}}}function w(e,t){return function(e){const t=[];for(;;){const{value:r,done:n}=e.next();if(n)return t;t.push(r)}}(function*(e,t={}){const{geometryType:r,objectIdFieldName:n}=t;for(;;){const{value:a,done:c}=e.next();if(c)return;const{geometry:l,properties:u,id:f}=a;if(l&&o[l.type]!==r)continue;const d=u||{};n&&null!=f&&!d[n]&&(d[n]=f);const p=new i.a(l?h(new s.a,l,t):null,d);yield p}}(c(e),t))}},"4xTw":function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("04ZG"),a=(r("4EHJ"),r("ju1D"),r("9AIY"),r("kJYu"));let o=class extends a.a{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once("isReady",()=>this.notifyChange("updating")),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach(t=>{e=e&&t.isReady}),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};Object(n.a)([Object(i.b)()],o.prototype,"layer",void 0),Object(n.a)([Object(i.b)()],o.prototype,"layerView",void 0),Object(n.a)([Object(i.b)()],o.prototype,"tileInfoView",void 0),Object(n.a)([Object(i.b)()],o.prototype,"updating",null),o=Object(n.a)([Object(s.a)("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],o),t.a=o},"54nt":function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("+opI"),a=r("04ZG"),o=(r("4EHJ"),r("ju1D"),r("9AIY"),r("DKHk"));const c=new s.a({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});let l=class extends o.a{constructor(e){super(e),this.type=null}};Object(n.a)([Object(i.b)({type:String,json:{read:c.read,write:c.write}})],l.prototype,"type",void 0),l=Object(n.a)([Object(a.a)("esri.tasks.support.NAMessage")],l),t.a=l},"6Az7":function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r("kYAx"),i=r("yE7X"),s=r("Oxob"),a=r("ZyIX"),o=r("5LEI"),c=r("xzrc");class l extends o.a{constructor(e,t,r,n=null){super(e,t,r,r),this.bitmap=new c.a(n,"standard",!1),this.bitmap.coordScale=r,this.bitmap.once("isReady",()=>this.ready())}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(e){super.beforeRender(e),this.bitmap.beforeRender(e)}afterRender(e){super.afterRender(e),this.bitmap.afterRender(e)}set stencilRef(e){this.bitmap.stencilRef=e}get stencilRef(){return this.bitmap.stencilRef}setTransform(e,t){super.setTransform(e,t),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}class u extends a.a{get requiresDedicatedFBO(){return this.children.some(e=>"additive"===e.bitmap.blendFunction)}createTile(e){const t=this._tileInfoView.getTileBounds(Object(n.e)(),e);return new l(e,t,this._tileInfoView.tileInfo.size)}destroyTile(){}prepareRenderPasses(e){const t=e.registerRenderPass({name:"bitmap (tile)",brushes:[s.a.bitmap],target:()=>this.children.map(e=>e.bitmap),drawPhase:i.c.MAP});return[...super.prepareRenderPasses(e),t]}doRender(e){this.visible&&e.drawPhase===i.c.MAP&&super.doRender(e)}}},"8Lmx":function(e,t,r){"use strict";function n(e){return 32+e.length}function i(e){if(!e)return 0;let t=32;for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];switch(typeof i){case"string":t+=n(i);break;case"number":t+=16;break;case"boolean":t+=4}}return t}function s(e,t){return 32+e.length*t}r.d(t,"a",function(){return i}),r.d(t,"b",function(){return s})},"8gnY":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r("8NDJ");class i extends n.a{constructor(e,t){super(n.a.createInstance()),this._currentIndex=-1,this._reader=e,this._indices=t}static from(e,t){return new i(e.copy(),t)}get hasNext(){return this._currentIndex+1<this._indices.length}getApproximateSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new i(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}next(){for(;this._nextIndex()&&!this._reader._passesFilter()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(e){this._reader.setArcadeSpatialReference(e)}attachStorage(e){this._reader.attachStorage(e)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(e){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(e,t){return this._reader.setComputedNumericAtIndex(t,0)}getComputedString(e){return this._reader.getComputedStringAtIndex(0)}setComputedString(e,t){return this._reader.setComputedStringAtIndex(0,t)}getComputedNumericAtIndex(e){return this._reader.getComputedNumericAtIndex(e)}setComputedNumericAtIndex(e,t){this._reader.setComputedNumericAtIndex(e,t)}getComputedStringAtIndex(e){return this._reader.getComputedStringAtIndex(e)}setComputedStringAtIndex(e,t){return this._reader.setComputedStringAtIndex(e,t)}transform(e,t,r,n){const i=this.copy();return i._reader=this._reader.transform(e,t,r,n),i}extent(e,t,r,n){const i=this.copy();return i._reader=this._reader.extent(e,t,r,n),i}hasFilter(){return this._reader.hasFilter()}readAttribute(e,t=!1){return this._reader.readAttribute(e,t)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,t){return this._reader.setField(e,t)}keys(){return this._reader.keys()}castToText(){return this._reader.castToText()}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}getGroupId(){return this._reader.getGroupId()}setGroupId(e){return this._reader.setGroupId(e)}getXHydrate(){return this._reader.getXHydrate()}getYHydrate(){return this._reader.getYHydrate()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_passesFilter(){return this._reader._passesFilter()}_readAttribute(e,t){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}_readAttributes(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}}},ACSY:function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("04ZG"),a=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y")),o=r("qatw");let c=class extends a.a{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(function(e){return e.toJSON()}),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(o.c)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(n.a)([Object(i.b)()],c.prototype,"geometries",void 0),Object(n.a)([Object(i.b)({json:{read:{source:"outSR"}}})],c.prototype,"outSpatialReference",void 0),Object(n.a)([Object(i.b)()],c.prototype,"transformation",void 0),Object(n.a)([Object(i.b)()],c.prototype,"transformForward",void 0),c=Object(n.a)([Object(s.a)("esri.tasks.support.ProjectParameters")],c),t.a=c},AfLA:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return s});var n=r("3r0u"),i=r("OKTS");const s=(()=>{if(!("document"in n.a))return()=>null;const e=document.createElement("canvas"),t=e.getContext("2d");return e.height=512,e.width=1,r=>{t.clearRect(0,0,1,e.height);const n=t.createLinearGradient(0,0,0,e.height);for(const{ratio:e,color:t}of r.colorStops)n.addColorStop(Math.max(e,.001),`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`);return t.fillStyle=n,t.fillRect(0,0,1,e.height),t.getImageData(0,0,1,e.height).data}})();function a(e,t,r,n){const{blurRadius:i,fieldOffset:s,field:a}=t,o=new Float64Array(r*n),c=function(e){const t=Math.round(3*e),r=2*e*e,n=new Float64Array(2*t+1);for(let i=0;i<=n.length;i++)n[i]=Math.exp(-((i-t)**2)/r)/Math.sqrt(2*Math.PI)*(e/2);return n}(i),l=Math.round(3*i);let u,f=Number.NEGATIVE_INFINITY;const d=function(e,t){return null!=e?"string"==typeof t?t=>-1*+t.readAttribute(e):r=>+r.readAttribute(e)+t:e=>1}(a,s),h=new Set;for(const p of e){const e=p.getCursor();for(;e.next();){const t=e.getObjectId();if(h.has(t))continue;h.add(t);const i=e.readLegacyPointGeometry(),s=128;if(i.x<-s||i.x>=r+s||i.y<-s||i.y>n+s)continue;const a=+d(e),p=Math.round(i.x)-l,y=Math.round(i.y)-l,b=Math.max(0,p),m=Math.max(0,y),g=Math.min(n,Math.round(i.y)+l),O=Math.min(r,Math.round(i.x)+l);for(let e=m;e<g;e++){const t=c[e-y];for(let n=b;n<O;n++)u=o[e*r+n]+=t*c[n-p]*a,u>f&&(f=u)}}}return{matrix:o.buffer,max:f}}function o(e,t,r,n,s,a){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);const o=e.getImageData(0,0,t,t);r&&n&&o.data.set(new Uint8ClampedArray(function(e,t,r,n,s){const a=new Uint32Array(e*e),o="buffer"in t?t:new Float64Array(t),c="buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer),l=c.length/(s-n);for(let u=0;u<o.length;u++){const e=Math.floor((o[u]-n)*l);a[u]=c[Object(i.c)(e,0,c.length-1)]}return a.buffer}(t,r,n,s,a))),e.putImageData(o,0,0)}},BGvB:function(e,t,r){"use strict";r.d(t,"a",function(){return w}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return j}),r.d(t,"d",function(){return b}),r.d(t,"e",function(){return g});var n=r("HaE+"),i=r("f/qv"),s=r("EyXx"),a=r("4EHJ"),o=r("WZb1"),c=r("KLE9"),l=r("SFah"),u=r("975N"),f=r("Lqtk"),d=r("+Xal"),h=r("8prj"),p=r("QmHG");const y={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function b(e){const t=e.folders||[],r=t.slice(),n=new Map,s=new Map,a=new Map,o=new Map,c=new Map,l={esriGeometryPoint:s,esriGeometryPolyline:a,esriGeometryPolygon:o};(e.featureCollection&&e.featureCollection.layers||[]).forEach(e=>{const t=Object(i.a)(e);t.featureSet.features=[];const r=e.featureSet.geometryType;n.set(r,t);const c=e.layerDefinition.objectIdField;"esriGeometryPoint"===r?O(s,c,e.featureSet.features):"esriGeometryPolyline"===r?O(a,c,e.featureSet.features):"esriGeometryPolygon"===r&&O(o,c,e.featureSet.features)}),e.groundOverlays&&e.groundOverlays.forEach(e=>{c.set(e.id,e)}),t.forEach(t=>{t.networkLinkIds.forEach(n=>{const i=function(e,t,r){const n=function(e,t){let r;return t.some(t=>t.id===e&&(r=t,!0)),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(n,t.id,e.networkLinks);i&&r.push(i)})}),r.forEach(e=>{e.featureInfos&&(e.points=Object(i.a)(n.get("esriGeometryPoint")),e.polylines=Object(i.a)(n.get("esriGeometryPolyline")),e.polygons=Object(i.a)(n.get("esriGeometryPolygon")),e.mapImages=[],e.featureInfos.map(t=>{switch(t.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":{const r=l[t.type].get(t.id);r&&e[y[t.type]].featureSet.features.push(r);break}case"GroundOverlay":{const r=c.get(t.id);r&&e.mapImages.push(r);break}}}),e.fullExtent=w([e]))});const u=w(r);return{folders:t,sublayers:r,extent:u}}function m(e,t,r,n){const i=u.b&&u.b.findCredential(e);e=Object(a.e)(e,{token:i&&i.token});const o=s.a.kmlServiceUrl;return Object(f.default)(o,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:n})}function g(e,t,r=null,n=[]){const i=[],s={},a=t.sublayers,o=t.folders.map(e=>e.id);return a.forEach(t=>{const a=new e;if(r?a.read(t,r):a.read(t),n.length&&o.indexOf(a.id)>-1&&(a.visible=-1!==n.indexOf(a.id)),s[t.id]=a,null!=t.parentFolderId&&-1!==t.parentFolderId){const e=s[t.parentFolderId];e.sublayers||(e.sublayers=[]),e.sublayers.unshift(a)}else i.unshift(a)}),i}function O(e,t,r){r.forEach(r=>{e.set(r.attributes[t],r)})}function j(e){return v.apply(this,arguments)}function v(){return(v=Object(n.a)(function*(e){const t=h.default.fromJSON(e.featureSet).features,r=e.layerDefinition,n=Object(d.a)(r.drawingInfo.renderer),i=l.a.fromJSON(e.popupInfo),s=[];for(const a of t){const e=yield n.getSymbolAsync(a);a.symbol=e,a.popupTemplate=i,a.visible=!0,s.push(a)}return s})).apply(this,arguments)}function w(e){const t=Object(p.b)(),r=Object(p.b)(p.a);for(const n of e){if(n.polygons&&n.polygons.featureSet&&n.polygons.featureSet.features)for(const e of n.polygons.featureSet.features)Object(c.b)(t,e.geometry),Object(p.e)(r,t);if(n.polylines&&n.polylines.featureSet&&n.polylines.featureSet.features)for(const e of n.polylines.featureSet.features)Object(c.b)(t,e.geometry),Object(p.e)(r,t);if(n.points&&n.points.featureSet&&n.points.featureSet.features)for(const e of n.points.featureSet.features)Object(c.b)(t,e.geometry),Object(p.e)(r,t);if(n.mapImages)for(const e of n.mapImages)Object(c.b)(t,e.extent),Object(p.e)(r,t)}return Object(p.d)(r,p.a)?null:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5],spatialReference:o.a.WGS84}}},BPBZ:function(e,t,r){"use strict";r.d(t,"a",function(){return h}),r.d(t,"b",function(){return u});var n=r("Cy1f"),i=r("QhKk"),s=r("5DEt"),a=r("2uVf"),o=r("sTkM"),c=r("dXfX");function l(e,t,r){r*=.5;const n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function u(e,t){const r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>i.a?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function f(e,t,r){const n=t[0],i=t[1],s=t[2],a=t[3],o=r[0],c=r[1],l=r[2],u=r[3];return e[0]=n*u+a*o+i*l-s*c,e[1]=i*u+a*c+s*o-n*l,e[2]=s*u+a*l+n*c-i*o,e[3]=a*u-n*o-i*c-s*l,e}function d(e,t,r,n){const s=t[0],a=t[1],o=t[2],c=t[3];let l,u,f,d,h,p=r[0],y=r[1],b=r[2],m=r[3];return u=s*p+a*y+o*b+c*m,u<0&&(u=-u,p=-p,y=-y,b=-b,m=-m),1-u>i.a?(l=Math.acos(u),f=Math.sin(l),d=Math.sin((1-n)*l)/f,h=Math.sin(n*l)/f):(d=1-n,h=n),e[0]=d*s+h*p,e[1]=d*a+h*y,e[2]=d*o+h*b,e[3]=d*c+h*m,e}function h(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function p(e,t){const r=t[0]+t[4]+t[8];let n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);const i=(r+1)%3,s=(r+2)%3;n=Math.sqrt(t[3*r+r]-t[3*i+i]-t[3*s+s]+1),e[r]=.5*n,n=.5/n,e[3]=(t[3*i+s]-t[3*s+i])*n,e[i]=(t[3*i+r]+t[3*r+i])*n,e[s]=(t[3*s+r]+t[3*r+s])*n}return e}const y=c.c,b=c.k,m=c.a,g=f,O=c.b,j=c.d,v=c.i,w=c.e,x=w,_=c.f,S=_,I=c.j,T=c.g,M=c.h,A=Object(n.e)(),L=Object(n.g)(1,0,0),E=Object(n.g)(0,1,0),B=Object(o.a)(),C=Object(o.a)(),R=Object(a.a)();Object.freeze({__proto__:null,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},setAxisAngle:l,getAxisAngle:u,multiply:f,rotateX:function(e,t,r){r*=.5;const n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),c=Math.cos(r);return e[0]=n*c+a*o,e[1]=i*c+s*o,e[2]=s*c-i*o,e[3]=a*c-n*o,e},rotateY:function(e,t,r){r*=.5;const n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),c=Math.cos(r);return e[0]=n*c-s*o,e[1]=i*c+a*o,e[2]=s*c+n*o,e[3]=a*c-i*o,e},rotateZ:function(e,t,r){r*=.5;const n=t[0],i=t[1],s=t[2],a=t[3],o=Math.sin(r),c=Math.cos(r);return e[0]=n*c+i*o,e[1]=i*c-n*o,e[2]=s*c+a*o,e[3]=a*c-s*o,e},calculateW:function(e,t){const r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e},slerp:d,random:function(e){const t=Object(i.b)(),r=Object(i.b)(),n=Object(i.b)(),s=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=s*Math.sin(2*Math.PI*r),e[1]=s*Math.cos(2*Math.PI*r),e[2]=a*Math.sin(2*Math.PI*n),e[3]=a*Math.cos(2*Math.PI*n),e},invert:function(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],a=r*r+n*n+i*i+s*s,o=a?1/a:0;return e[0]=-r*o,e[1]=-n*o,e[2]=-i*o,e[3]=s*o,e},conjugate:h,fromMat3:p,fromEuler:function(e,t,r,n){const i=.5*Math.PI/180;t*=i,r*=i,n*=i;const s=Math.sin(t),a=Math.cos(t),o=Math.sin(r),c=Math.cos(r),l=Math.sin(n),u=Math.cos(n);return e[0]=s*c*u-a*o*l,e[1]=a*o*u+s*c*l,e[2]=a*c*l-s*o*u,e[3]=a*c*u+s*o*l,e},str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},copy:y,set:b,add:m,mul:g,scale:O,dot:j,lerp:v,length:w,len:x,squaredLength:_,sqrLen:S,normalize:I,exactEquals:T,equals:M,rotationTo:function(e,t,r){const n=Object(s.e)(t,r);return n<-.999999?(Object(s.d)(A,L,t),Object(s.k)(A)<1e-6&&Object(s.d)(A,E,t),Object(s.o)(A,A),l(e,A,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(Object(s.d)(A,t,r),e[0]=A[0],e[1]=A[1],e[2]=A[2],e[3]=1+n,I(e,e))},sqlerp:function(e,t,r,n,i,s){return d(B,t,i,s),d(C,r,n,s),d(e,B,C,2*s*(1-s)),e},setAxes:function(e,t,r,n){const i=R;return i[0]=r[0],i[3]=r[1],i[6]=r[2],i[1]=n[0],i[4]=n[1],i[7]=n[2],i[2]=-t[0],i[5]=-t[1],i[8]=-t[2],I(e,p(e,i))}})},DJok:function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"b",function(){return h}),r("wSAH");var n=r("srIe"),i=r("zm0L"),s=r("lx5q"),a=r("QmHG"),o=r("kB+0"),c=r("hIOP"),l=r("8gnY");function u(e,t){return e<<16|t}function f(e){return(4294901760&e)>>>16}function d(e){return 65535&e}const h={getObjectId:e=>e.getObjectId(),getAttributes:e=>e.readAttributes(),getAttribute:(e,t)=>e.readAttribute(t),cloneWithGeometry:(e,t)=>e,getGeometry:e=>e.readHydratedGeometry(),getCentroid:(e,t)=>e.readCentroid()};class p extends c.a{constructor(e,t,r){super(e,t),this.featureAdapter=h,this.events=new i.a,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new s.a(50),this._index=Object(o.a)(9,e=>({minX:this._storage.getXMin(e),minY:this._storage.getYMin(e),maxX:this._storage.getXMax(e),maxY:this._storage.getYMax(e)})),this._storage=t,this.mode=r}get storage(){return this._storage}get storeStatistics(){return{featureCount:0,vertexCount:0}}hasInstance(e){return this._featureSetsByInstance.has(e)}onTileData(e,t){if(Object(n.h)(t.addOrUpdate))return t;if(t.addOrUpdate.attachStorage(this._storage),"snapshot"===this.mode){const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getDisplayId();this.setComputedAttributes(this._storage,r,t,e.scale)}return t}this._featureSetsByInstance.set(t.addOrUpdate.instance,t.addOrUpdate);const r=t.addOrUpdate.getCursor();for(;r.next();)this._insertFeature(r,e.scale);return this._spatialIndexInvalid=!0,this.events.emit("changed"),t}search(e){this._rebuildIndex();const t=e.id,r=this._indexSearchCache.find(e=>e.tileId===t);if(Object(n.i)(r))return r.readers;const i=new Map,s=this._searchIndex(e.bounds),a=[];for(const n of s){const e=this._storage.getInstanceId(n),t=f(e),r=d(e);i.has(t)||i.set(t,[]),i.get(t).push(r)}return i.forEach((e,t)=>{const r=this._featureSetsByInstance.get(t);a.push(l.a.from(r,e))}),this._indexSearchCache.enqueue({tileId:t,readers:a}),a}insert(e){const t=e.getCursor(),r=this._storage;for(;t.next();){var n;const e=u(t.instance,t.getIndex()),i=t.getObjectId(),s=null!=(n=this._objectIdToDisplayId.get(i))?n:this._storage.createDisplayId();t.setDisplayId(s),r.setInstanceId(s,e),this._objectIdToDisplayId.set(i,s)}this._featureSetsByInstance.set(e.instance,e),this._spatialIndexInvalid=!0}remove(e){const t=this._objectIdToDisplayId.get(e);if(!t)return;const r=this._storage.getInstanceId(t),n=d(r),i=f(r),s=this._featureSetsByInstance.get(i);this._objectIdToDisplayId.delete(e),this._storage.releaseDisplayId(t),s.removeAtIndex(n),s.isEmpty&&this._featureSetsByInstance.delete(i),this._spatialIndexInvalid=!0}forEach(e){this._objectIdToDisplayId.forEach(t=>{const r=this._storage.getInstanceId(t),n=this._lookupFeature(r);e(n)})}forEachUnsafe(e){this._objectIdToDisplayId.forEach(t=>{const r=this._storage.getInstanceId(t),n=f(r),i=d(r),s=this._getFeatureSet(n);s.setIndex(i),e(s)})}forEachInBounds(e,t){const r=this._searchIndex(e);for(const i of r){const e=this.lookupFeatureByDisplayId(i,this._storage);t(Object(n.o)(e))}}forEachBounds(e,t,r){this._rebuildIndex();const n=[0,0,0,0];for(const i of e){if(!i.readGeometry())continue;const e=i.getDisplayId();n[0]=this._storage.getXMin(e),n[1]=this._storage.getYMin(e),n[2]=this._storage.getXMax(e),n[3]=this._storage.getYMax(e),t(Object(a.h)(r,n))}}sweepFeatures(e,t,r){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach((n,i)=>{e.has(n)||(t.releaseDisplayId(n),r&&r.unsetAttributeData(n),this._objectIdToDisplayId.delete(i))}),this.events.emit("changed")}sweepFeatureSets(e){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach((t,r)=>{e.has(r)||this._featureSetsByInstance.delete(r)})}lookupObjectId(e,t){const r=this.lookupFeatureByDisplayId(e,t);return Object(n.h)(r)?null:r.getObjectId()}lookupDisplayId(e){return this._objectIdToDisplayId.get(e)}lookupFeatureByDisplayId(e,t){const r=t.getInstanceId(e);return this._lookupFeature(r)}lookupByDisplayIdUnsafe(e){const t=this._storage.getInstanceId(e),r=f(t),n=d(t),i=this._getFeatureSet(r);return i?(i.setIndex(n),i):null}_insertFeature(e,t){const r=this._storage,n=e.getObjectId(),i=u(e.instance,e.getIndex());r.getInstanceId(e.getDisplayId());let s=this._objectIdToDisplayId.get(n);s||(s=r.createDisplayId(),this._objectIdToDisplayId.set(n,s),this._spatialIndexInvalid=!0),e.setDisplayId(s),r.setInstanceId(s,i),this.setComputedAttributes(r,e,s,t)}_searchIndex(e){return this._rebuildIndex(),this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const e=[];"snapshot"===this.mode?this._featureSetsByInstance.forEach(t=>{const r=t.getCursor();for(;r.next();){const t=r.getDisplayId();this._storage.setBounds(t,r)&&e.push(t)}}):this._objectIdToDisplayId.forEach(t=>{const r=this._storage.getInstanceId(t);this._storage.setBounds(t,this._lookupFeature(r))&&e.push(t)}),this._index.clear(),this._index.load(e),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(e){const t=f(e),r=d(e),n=this._getFeatureSet(t);if(!n)return null;const i=n.getCursor();return i.setIndex(r),i}_getFeatureSet(e){return this._featureSetsByInstance.get(e)}}},DKHk:function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("+opI"),a=r("04ZG"),o=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y"));const c=new s.a({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let l=class extends o.a{constructor(e){super(e),this.description=null,this.type=null}};Object(n.a)([Object(i.b)({type:String,json:{write:!0}})],l.prototype,"description",void 0),Object(n.a)([Object(i.b)({type:String,json:{read:c.read,write:c.write}})],l.prototype,"type",void 0),l=Object(n.a)([Object(a.a)("esri.tasks.support.GPMessage")],l),t.a=l},Dfpg:function(e,t,r){"use strict";function n(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}r.d(t,"a",function(){return n})},Fewv:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("4EHJ"),i=r("AiS/");function s(e){return{origin:"portal-item",url:Object(n.J)(e.itemUrl),portal:e.portal||i.a.getDefault(),portalItem:e,readResourcePaths:[]}}},Fkrg:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI"),r("04ZG")),s=(r("4EHJ"),r("ju1D"),r("9AIY"),r("6Az7"));const a=e=>{let t=class extends e{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new s.a(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView.removeAllChildren()}};return t=Object(n.a)([Object(i.a)("esri.views.2d.layers.BitmapTileLayerView2D")],t),t}},IAPW:function(e,t,r){"use strict";r.d(t,"a",function(){return y}),r.d(t,"b",function(){return p}),r.d(t,"c",function(){return u}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return l}),r.d(t,"f",function(){return d}),r.d(t,"g",function(){return a}),r.d(t,"h",function(){return f}),r.d(t,"i",function(){return s}),r.d(t,"j",function(){return h}),r.d(t,"k",function(){return o}),r.d(t,"l",function(){return i});var n=r("nvBr");const i={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function s(e,t,r){let n=22,i=22;e<1?n*=.75:e>1&&(i*=1.25);let s=22,a=22;return t&&r&&(n=i=s=a=0),[{type:"path",path:[{command:"M",values:[s,0]},{command:"L",values:[r?s:.875*s,0]},{command:"L",values:[r?n-.5*s:0,i-.5*a]},{command:"L",values:[n-.5*s,i-.5*a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s,0]},{command:"L",values:[s,t?0:.125*a]},{command:"L",values:[n-.5*s,t?i-.5*a:a]},{command:"L",values:[n-.5*s,i-.5*a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n-.5*s,i-.5*a]},{command:"L",values:[r?n-.5*s:0,i-.5*a]},{command:"L",values:[r?n-.5*s:0,t?i-.5*a:a]},{command:"L",values:[n-.5*s,t?i-.5*a:a]},{command:"Z",values:[]}]}]}function a(e){const t=22,r=.5*e;return[{type:"path",path:[{command:"M",values:[0,.7*t*.5]},{command:"L",values:[6.6,.7*t]},{command:"L",values:[6.6,.7*t+r]},{command:"L",values:[0,.7*t+r-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,.7*t]},{command:"L",values:[6.6,.7*t+r]},{command:"L",values:[t,r]},{command:"L",values:[t,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[t,0]},{command:"L",values:[6.6,.7*t]},{command:"L",values:[0,.7*t*.5]},{command:"Z",values:[]}]}]}function o(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function c(e,t){let r=t?20:e;const n=t?4:6;r-=r<=22?.5*n:n;const i=t?.35*r:.5*r;return[{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,.5*i]},{command:"L",values:[.5*r,i]},{command:"L",values:[0,.5*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*i]},{command:"L",values:[.5*r,i]},{command:"L",values:[.5*r,e]},{command:"L",values:[0,e-.5*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*r,i]},{command:"L",values:[.5*r,e]},{command:"L",values:[r,e-.5*i]},{command:"L",values:[r,.5*i]},{command:"Z",values:[]}]}]}function l(e,t){let r=t?20:e;const n=t?4:6;r-=r<=22?.5*n:n;const i=.5*r,s=.15*r,a=e-s;return[{type:"ellipse",cx:.5*r,cy:a,rx:i,ry:s},{type:"path",path:[{command:"M",values:[0,s]},{command:"L",values:[0,a]},{command:"L",values:[r,a]},{command:"L",values:[r,s]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:s,rx:i,ry:s}]}function u(e,t){let r=t?20:e;const n=t?4:6;r-=r<=22?.5*n:n;const i=.15*r,s=e-i;return[{type:"ellipse",cx:.5*r,cy:s,rx:.5*r,ry:i},{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,s]},{command:"L",values:[0,s]},{command:"Z",values:[]}]}]}function f(e){let t=e;t-=t<22?3:6;const r=.15*t;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[t,0]},{command:"L",values:[.5*t,e-r]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:0,rx:.5*t,ry:r}]}function d(e){let t=e;const r=e;t-=t<22?2:4;const n=t,i=r,s=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[n,.5*i-s]},{command:"L",values:[.45*n-s,.5*i+s]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[.45*n-s,.5*i+s]},{command:"L",values:[0,.5*i-s]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*i-s]},{command:"L",values:[.45*n-s,.5*i+s]},{command:"L",values:[.45*n,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,r]},{command:"L",values:[n,.5*i-s]},{command:"L",values:[.45*n-s,.5*i+s]},{command:"Z",values:[]}]}]}function h(e){let t=e;return t-=t<22?1:2,[{type:"path",path:[{command:"M",values:[.45*e,0]},{command:"L",values:[e,t]},{command:"L",values:[.45*e,.6*t]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*e,0]},{command:"L",values:[.45*e,.6*t]},{command:"L",values:[0,t]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,t]},{command:"L",values:[.45*e,.6*t]},{command:"L",values:[e,t]},{command:"Z",values:[]}]}]}function p(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function y(e,t){if("type"in e&&("linear"===e.type||"pattern"===e.type))return e;const r=new n.a(e);return new n.a([p(r.r,t),p(r.g,t),p(r.b,t),r.a])}},IYxN:function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"b",function(){return p}),r.d(t,"c",function(){return d}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return h}),r.d(t,"f",function(){return l}),r.d(t,"g",function(){return u}),r.d(t,"h",function(){return y});var n=r("srIe"),i=r("SuVq");r("4GrV");var s=r("tODX");const a=new Map,o=new class{constructor(e=15e3,t=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=e,this._interval=Math.min(e,t)}decreaseRefCount(e,t){const r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){const e=n.get(r);return e.refCount--,e.refCount<=0&&(n.delete(r),e.controller&&e.controller.abort()),e.refCount}return 0}getBlock(e,t){const r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){const e=n.get(r);return e.ts=Date.now(),e.refCount++,n.delete(r),n.set(r,e),e.block}return null}putBlock(e,t,r,n=null){const i=this._cachedBlocks,s=e+"/"+t;if(i.has(s)){const e=i.get(s);e.ts=Date.now(),e.refCount++}else i.set(s,{block:r,ts:Date.now(),refCount:1,controller:n});this.trim(),this.updateTimer()}deleteBlock(e,t){const r=this._cachedBlocks,n=e+"/"+t;r.has(n)&&r.delete(n)}updateMaxSize(e){this._size=e,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const e=this._cachedBlocks;this._timer=setInterval(()=>{const t=Array.from(e),r=Date.now();for(let n=0;n<t.length&&t[n][1].ts<=r-this._duration;n++)e.delete(t[n][0]);0===e.size&&this.clearTimer()},this._interval)}trim(){const e=this._cachedBlocks;if(-1===this._size||this._size>=e.size)return;const t=Array.from(e);for(let r=0;r<t.length-this._size;r++)e.delete(t[r][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}};function c(e,t){return null==t?e:`${e}?sliceId=${t}`}function l(e,t){const r={extent:null,rasterInfo:t,cache:new Map};if(a.has(e)){const t=a.get(e);return t.push(r),t.length-1}return a.set(e,[r]),0}function u(e,t){if(a.has(e)){const r=a.get(e);r[t]=null,r.some(e=>null!=e)||a.delete(e)}}function f(e,t,r){if(!a.has(e))return null==t?o.decreaseRefCount(e,r):0;const n=a.get(e);if(null==n[t])return o.decreaseRefCount(e,r);const i=n[t].cache;if(i.has(r)){const e=i.get(r);if(e.refCount--,0===e.refCount){i.delete(r);for(let e=0;e<n.length;e++)n[e]&&n[e].cache.has(r)&&n[e].cache.delete(r);e.controller&&e.controller.abort()}return e.refCount}return 0}function d(e,t,r){if(!a.has(e))return null==t?o.getBlock(e,r):null;const n=a.get(e);if(null==n[t]){for(let e=0;e<n.length;e++)if(n[e]&&n[e].cache.has(r)){const t=n[e].cache.get(r);return t.refCount++,t.block}return o.getBlock(e,r)}const i=n[t].cache;if(i.has(r)){const e=i.get(r);return e.refCount++,e.block}for(let s=0;s<n.length;s++)if(s!==t&&n[s]&&n[s]&&n[s].cache.has(r)){const e=n[s].cache.get(r);return e.refCount++,i.set(r,e),e.block}return null}function h(e,t,r,n,i=null){if(!a.has(e))return void(null==t&&o.putBlock(e,r,n,i));const s=a.get(e);if(null==s[t])return void o.putBlock(e,r,n,i);const c={refCount:1,block:n,isResolved:!1,isRejected:!1,controller:i};n.then(()=>c.isResolved=!0).catch(()=>c.isRejected=!0),s[t].cache.set(r,c)}function p(e,t,r){if(!a.has(e))return void(null==t&&o.deleteBlock(e,r));const n=a.get(e);null!=n[t]?n[t].cache.delete(r):o.deleteBlock(e,r)}function y(e,t,r,o,c,l,u=null){const f=function(e,t){if(!a.has(e))return null;const r=a.get(e);return null==r[t]?null:r[t]}(e,t),d=f.extent,{cache:h,rasterInfo:p}=f;if(d&&d.xmin===r.xmin&&d.xmax===r.xmax&&d.ymin===r.ymin&&d.ymax===r.ymax)return;const y=r.clone().normalize(),{spatialReference:b,transform:m}=p,g=new Set;for(let a=0;a<y.length;a++){const e=y[a];if(e.xmax-e.xmin<=o||e.ymax-e.ymin<=o)continue;let t=Object(s.e)(e,b,u);Object(n.i)(m)&&(t=m.inverseTransform(t));const r=new i.a({x:o,y:o,spatialReference:e.spatialReference});if(null==c&&!(c=Object(s.g)(r,b,e,u)))return;const{pyramidLevel:f,pyramidResolution:d,excessiveReading:h}=Object(s.h)(c,p,l||"closest");if(h)return;const{storageInfo:O}=p,{origin:j}=O,v={x:Math.max(0,Math.floor((t.xmin-j.x)/d.x)),y:Math.max(0,Math.floor((j.y-t.ymax)/d.y))},w=Math.ceil((t.xmax-t.xmin)/d.x-.1),x=Math.ceil((t.ymax-t.ymin)/d.y-.1),_=f>0?O.pyramidBlockWidth:O.blockWidth,S=f>0?O.pyramidBlockHeight:O.blockHeight,I=1,T=Math.max(0,Math.floor(v.x/_)-I),M=Math.max(0,Math.floor(v.y/S)-I),A=Math.floor((v.x+w-1)/_)+I,L=Math.floor((v.y+x-1)/S)+I;for(let n=M;n<=L;n++)for(let e=T;e<=A;e++)g.add(`${f}/${n}/${e}`)}h.forEach((e,t)=>{if(!g.has(t)){const e=h.get(t);(null==e||e.isResolved||e.isRejected)&&h.delete(t)}}),f.extent={xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax}}},JYLa:function(e,t,r){"use strict";var n=r("9MzC"),i=r("llFo"),s=r("rlSK");t.a=class{constructor(e){if(e instanceof i.a)this._tilemapCache=e;else{if(!e||!("index"in e))throw new Error("Invalid tilemap!");this._tilemap=e.index}}dataKey(e,t){if(this._tilemapCache){const{level:r,row:i,col:a}=e,o=new s.a(e);return this._tilemapCache.fetchAvailabilityUpsample(r,i,a,o,t).then(()=>(o.world=e.world,o)).catch(e=>{if(Object(n.m)(e))throw e;return null})}return this._getIndexedDataKey(e)}forEach(e,t,r,n,i){this._callback=i,this._maxLevel=t+e,this._forEach(this._tilemap,t,r,n)}_forEach(e,t,r,n){0!==e&&(this._callback(t,r,n),t!==this._maxLevel&&"object"==typeof e&&(this._forEach(e[0],t+1,2*r,2*n),this._forEach(e[1],t+1,2*r,2*n+1),this._forEach(e[2],t+1,2*r+1,2*n),this._forEach(e[3],t+1,2*r+1,2*n+1)))}_getIndexedDataKey(e){const t=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return Promise.resolve(null);let r=e;for(;0!==r.level;)r=new s.a(r.level-1,r.row>>1,r.col>>1,r.world),t.push(r);let n,i,a=this._tilemap,o=t.pop();if(1===a)return Promise.resolve(o);for(;t.length;)if(n=t.pop(),i=(1&n.col)+((1&n.row)<<1),a){if(0===a[i]){o=null;break}if(1===a[i]){o=n;break}o=n,a=a[i]}return Promise.resolve(o)}}},LTnl:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("yE7X"),i=r("Oxob"),s=r("mgI5");class a extends s.a{get requiresDedicatedFBO(){return this.children.some(e=>"additive"===e.blendFunction)}prepareRenderPasses(e){const t=e.registerRenderPass({name:"bitmap",brushes:[i.a.bitmap],target:()=>this.children,drawPhase:n.c.MAP});return[...super.prepareRenderPasses(e),t]}}},LbAs:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("HaE+"),i=r("Lqtk");function s(e,t){return a.apply(this,arguments)}function a(){return(a=Object(n.a)(function*(e,t){const{data:r}=yield Object(i.default)(e,{responseType:"image",...t});return r})).apply(this,arguments)}},N3sV:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r("HaE+"),i=(r("wSAH"),r("jjdI")),s=r("fOQB"),a=r("of9L"),o=r("D6bk"),c=r("0meK");function l(e){return u.apply(this,arguments)}function u(){return(u=Object(n.a)(function*(e){const t=new Image;if(t.src="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A",t.width=5,t.height=5,yield t.decode(),!e.gl)return!0;const r=new c.a(e,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1}),n=s.a.createVertex(e,35044,new Uint16Array([0,0,1,0,0,1,1,1])),l=new o.a(e,{a_pos:0},{geometry:[{name:"a_pos",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:n}),u=new i.a(e,"\n  precision highp float;\n\n  attribute vec2 a_pos;\n  varying vec2 v_uv;\n\n  void main() {\n    v_uv = a_pos;\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n  }\n  ","\n  precision highp float;\n\n  varying vec2 v_uv;\n  uniform sampler2D u_texture;\n\n  void main() {\n    gl_FragColor = texture2D(u_texture, v_uv);\n  }\n  ",{a_pos:0});e.bindProgram(u);const f=new a.a(e,{dataType:5121,pixelFormat:6408,preMultiplyAlpha:!1,wrapMode:33071,samplingMode:9729},t);e.bindTexture(f,0),u.setUniform1i("u_texture",0);const d=e.getBoundFramebufferObject(),{x:h,y:p,width:y,height:b}=e.getViewport();e.bindFramebuffer(r),e.setViewport(0,0,1,1),e.bindVAO(l),e.drawArrays(5,0,4);const m=new Uint8Array(4);return r.readPixels(0,0,1,1,6408,5121,m),u.dispose(),l.dispose(!1),n.dispose(),r.dispose(),f.dispose(),e.setViewport(h,p,y,b),e.bindFramebuffer(d),t.src="",255===m[0]})).apply(this,arguments)}},NOfn:function(e,t,r){"use strict";r.r(t),r.d(t,"registerFunctions",function(){return m});var n=r("N2DF"),i=r("SuVq"),s=r("OvF4"),a=r("V9wi"),o=r("Ehki"),c=r("UhwK"),l=r("qatw"),u=r("975N"),f=r("idrm"),d=r("3xY4"),h=r("hUmP"),p=r("u1HQ");function y(e){return 0===u.d.indexOf("4.")?o.a.fromExtent(e):new o.a({spatialReference:e.spatialReference,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}function b(e){if(Object(f.J)(e,2,2),e[0]instanceof n.a&&e[1]instanceof n.a);else if(e[0]instanceof n.a&&null===e[1]);else if(e[1]instanceof n.a&&null===e[0]);else if(null!==e[0]||null!==e[1])throw new Error("Illegal Argument")}function m(e){"async"===e.mode&&(e.functions.disjoint=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null===r[0]||null===r[1]||Object(p.h)(r[0],r[1])})},e.functions.intersects=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.q)(r[0],r[1])})},e.functions.touches=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.A)(r[0],r[1])})},e.functions.crosses=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.d)(r[0],r[1])})},e.functions.within=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.C)(r[0],r[1])})},e.functions.contains=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.c)(r[0],r[1])})},e.functions.overlaps=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.t)(r[0],r[1])})},e.functions.equals=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return Object(f.J)(r,2,2),r[0]===r[1]||(r[0]instanceof n.a&&r[1]instanceof n.a?Object(p.j)(r[0],r[1]):!(!Object(f.z)(r[0])||!Object(f.z)(r[1]))&&r[0].getTime()===r[1].getTime())})},e.functions.relate=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,3,3),r[0]instanceof n.a&&r[1]instanceof n.a)return Object(p.w)(r[0],r[1],Object(f.y)(r[2]));if(r[0]instanceof n.a&&null===r[1])return!1;if(r[1]instanceof n.a&&null===r[0])return!1;if(null===r[0]&&null===r[1])return!1;throw new Error("Illegal Argument")})},e.functions.intersection=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null===r[0]||null===r[1]?null:Object(p.p)(r[0],r[1])})},e.functions.union=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){const s=[];if(0===(i=Object(f.j)(i)).length)throw new Error("Function called with wrong number of Parameters");if(1===i.length)if(Object(f.B)(i[0])){const e=Object(f.j)(i[0]);for(let t=0;t<e.length;t++)if(null!==e[t]){if(!(e[t]instanceof n.a))throw new Error("Illegal Argument");s.push(e[t])}}else{if(!Object(f.I)(i[0])){if(i[0]instanceof n.a)return Object(f.L)(Object(h.a)(i[0]),t.spatialReference);if(null===i[0])return null;throw new Error("Illegal Argument")}{const e=Object(f.j)(i[0].toArray());for(let t=0;t<e.length;t++)if(null!==e[t]){if(!(e[t]instanceof n.a))throw new Error("Illegal Argument");s.push(e[t])}}}else for(let t=0;t<i.length;t++)if(null!==i[t]){if(!(i[t]instanceof n.a))throw new Error("Illegal Argument");s.push(i[t])}return 0===s.length?null:Object(p.B)(s)})},e.functions.difference=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null!==r[0]&&null===r[1]?Object(h.a)(r[0]):null===r[0]?null:Object(p.g)(r[0],r[1])})},e.functions.symmetricdifference=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return b(r=Object(f.j)(r)),null===r[0]&&null===r[1]?null:null===r[0]?Object(h.a)(r[1]):null===r[1]?Object(h.a)(r[0]):Object(p.z)(r[0],r[1])})},e.functions.clip=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,2,2),!(r[1]instanceof s.a)&&null!==r[1])throw new Error("Illegal Argument");if(null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");return null===r[1]?null:Object(p.b)(r[0],r[1])})},e.functions.cut=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,2,2),!(r[1]instanceof c.a)&&null!==r[1])throw new Error("Illegal Argument");if(null===r[0])return[];if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");return null===r[1]?[Object(h.a)(r[0])]:Object(p.e)(r[0],r[1])})},e.functions.area=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){if(Object(f.J)(i,1,2),null===(i=Object(f.j)(i))[0])return 0;if(Object(f.T)(i[0]))return i[0].sumArea(Object(h.c)(Object(f.c)(i[1],-1)),!1,t.abortSignal).then(e=>{if(t.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e});if(Object(f.B)(i[0])||Object(f.I)(i[0])){const e=Object(f.l)(i[0],t.spatialReference);return null===e?0:Object(p.u)(e,Object(h.c)(Object(f.c)(i[1],-1)))}if(!(i[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.u)(i[0],Object(h.c)(Object(f.c)(i[1],-1)))})},e.functions.areageodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){if(Object(f.J)(i,1,2),null===(i=Object(f.j)(i))[0])return 0;if(Object(f.T)(i[0]))return i[0].sumArea(Object(h.c)(Object(f.c)(i[1],-1)),!0,t.abortSignal).then(e=>{if(t.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e});if(Object(f.B)(i[0])||Object(f.I)(i[0])){const e=Object(f.l)(i[0],t.spatialReference);return null===e?0:Object(p.l)(e,Object(h.c)(Object(f.c)(i[1],-1)))}if(!(i[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.l)(i[0],Object(h.c)(Object(f.c)(i[1],-1)))})},e.functions.length=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){if(Object(f.J)(i,1,2),null===(i=Object(f.j)(i))[0])return 0;if(Object(f.T)(i[0]))return i[0].sumLength(Object(h.b)(Object(f.c)(i[1],-1)),!1,t.abortSignal).then(e=>{if(t.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e});if(Object(f.B)(i[0])||Object(f.I)(i[0])){const e=Object(f.k)(i[0],t.spatialReference);return null===e?0:Object(p.v)(e,Object(h.b)(Object(f.c)(i[1],-1)))}if(!(i[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.v)(i[0],Object(h.b)(Object(f.c)(i[1],-1)))})},e.functions.lengthgeodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){if(Object(f.J)(i,1,2),null===(i=Object(f.j)(i))[0])return 0;if(Object(f.T)(i[0]))return i[0].sumLength(Object(h.b)(Object(f.c)(i[1],-1)),!0,t.abortSignal).then(e=>{if(t.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e});if(Object(f.B)(i[0])||Object(f.I)(i[0])){const e=Object(f.k)(i[0],t.spatialReference);return null===e?0:Object(p.o)(e,Object(h.b)(Object(f.c)(i[1],-1)))}if(!(i[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.o)(i[0],Object(h.b)(Object(f.c)(i[1],-1)))})},e.functions.distance=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){i=Object(f.j)(i),Object(f.J)(i,2,3);let s=i[0];(Object(f.B)(i[0])||Object(f.I)(i[0]))&&(s=Object(f.o)(i[0],t.spatialReference));let a=i[1];if((Object(f.B)(i[1])||Object(f.I)(i[1]))&&(a=Object(f.o)(i[1],t.spatialReference)),!(s instanceof n.a))throw new Error("Illegal Argument");if(!(a instanceof n.a))throw new Error("Illegal Argument");return Object(p.i)(s,a,Object(h.b)(Object(f.c)(i[2],-1)))})},e.functions.distancegeodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){r=Object(f.j)(r),Object(f.J)(r,2,3);const n=r[0],s=r[1];if(!(n instanceof i.a))throw new Error("Illegal Argument");if(!(s instanceof i.a))throw new Error("Illegal Argument");const a=new c.a({paths:[],spatialReference:n.spatialReference});return a.addPath([n,s]),Object(p.o)(a,Object(h.b)(Object(f.c)(r[2],-1)))})},e.functions.densify=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,2,3),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");const i=Object(f.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");if(i<=0)throw new Error("Illegal Argument");return r[0]instanceof o.a||r[0]instanceof c.a?Object(p.f)(r[0],i,Object(h.b)(Object(f.c)(r[2],-1))):r[0]instanceof s.a?Object(p.f)(y(r[0]),i,Object(h.b)(Object(f.c)(r[2],-1))):r[0]})},e.functions.densifygeodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,2,3),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");const i=Object(f.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");if(i<=0)throw new Error("Illegal Argument");return r[0]instanceof o.a||r[0]instanceof c.a?Object(p.n)(r[0],i,Object(h.b)(Object(f.c)(r[2],-1))):r[0]instanceof s.a?Object(p.n)(y(r[0]),i,Object(h.b)(Object(f.c)(r[2],-1))):r[0]})},e.functions.generalize=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,2,4),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");const i=Object(f.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");return Object(p.k)(r[0],i,Object(f.x)(Object(f.c)(r[2],!0)),Object(h.b)(Object(f.c)(r[3],-1)))})},e.functions.buffer=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,2,3),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");const i=Object(f.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");return 0===i?Object(h.a)(r[0]):Object(p.a)(r[0],i,Object(h.b)(Object(f.c)(r[2],-1)))})},e.functions.buffergeodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,2,3),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");const i=Object(f.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");return 0===i?Object(h.a)(r[0]):Object(p.m)(r[0],i,Object(h.b)(Object(f.c)(r[2],-1)))})},e.functions.offset=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,2,6),null===r[0])return null;if(!(r[0]instanceof o.a||r[0]instanceof c.a))throw new Error("Illegal Argument");const n=Object(f.w)(r[1]);if(isNaN(n))throw new Error("Illegal Argument");const i=Object(f.w)(Object(f.c)(r[4],10));if(isNaN(i))throw new Error("Illegal Argument");const s=Object(f.w)(Object(f.c)(r[5],0));if(isNaN(s))throw new Error("Illegal Argument");return Object(p.s)(r[0],n,Object(h.b)(Object(f.c)(r[2],-1)),Object(f.y)(Object(f.c)(r[3],"round")).toLowerCase(),i,s)})},e.functions.rotate=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){r=Object(f.j)(r),Object(f.J)(r,2,3);let a=r[0];if(null===a)return null;if(!(a instanceof n.a))throw new Error("Illegal Argument");a instanceof s.a&&(a=o.a.fromExtent(a));const c=Object(f.w)(r[1]);if(isNaN(c))throw new Error("Illegal Argument");const l=Object(f.c)(r[2],null);if(null===l)return Object(p.x)(a,c);if(l instanceof i.a)return Object(p.x)(a,c,l);throw new Error("Illegal Argument")})},e.functions.centroid=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,l){if(l=Object(f.j)(l),Object(f.J)(l,1,1),null===l[0])return null;let u=l[0];if((Object(f.B)(l[0])||Object(f.I)(l[0]))&&(u=Object(f.o)(l[0],t.spatialReference)),null===u)return null;if(!(u instanceof n.a))throw new Error("Illegal Argument");return u instanceof i.a?Object(f.L)(Object(h.a)(l[0]),t.spatialReference):u instanceof o.a?u.centroid:u instanceof c.a?Object(d.f)(u):u instanceof a.a?Object(d.e)(u):u instanceof s.a?u.center:null})},e.functions.multiparttosinglepart=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,u){u=Object(f.j)(u),Object(f.J)(u,1,1);const d=[];if(null===u[0])return null;if(!(u[0]instanceof n.a))throw new Error("Illegal Argument");return u[0]instanceof i.a||u[0]instanceof s.a?[Object(f.L)(Object(h.a)(u[0]),t.spatialReference)]:Object(p.y)(u[0]).then(e=>{if(e instanceof o.a){const t=[],r=[];for(let n=0;n<e.rings.length;n++)if(e.isClockwise(e.rings[n])){const r=Object(l.a)({rings:[e.rings[n]],hasZ:!0===e.hasZ,hazM:!0===e.hasM,spatialReference:e.spatialReference.toJSON()});t.push(r)}else r.push({ring:e.rings[n],pt:e.getPoint(n,0)});for(let e=0;e<r.length;e++)for(let n=0;n<t.length;n++)if(t[n].contains(r[e].pt)){t[n].addRing(r[e].ring);break}return t}if(e instanceof c.a){const t=[];for(let r=0;r<e.paths.length;r++){const n=Object(l.a)({paths:[e.paths[r]],hasZ:!0===e.hasZ,hazM:!0===e.hasM,spatialReference:e.spatialReference.toJSON()});t.push(n)}return t}if(u[0]instanceof a.a){const e=Object(f.L)(Object(h.a)(u[0]),t.spatialReference);for(let t=0;t<e.points.length;t++)d.push(e.getPoint(t));return d}return null})})},e.functions.issimple=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,1,1),null===r[0])return!0;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.r)(r[0])})},e.functions.simplify=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(f.j)(r),Object(f.J)(r,1,1),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.y)(r[0])})})}},OYGz:function(e,t,r){"use strict";var n,i=r("pO5D"),s=(r("wSAH"),r("f/qv")),a=(r("6S2I"),r("zqDF"),r("WbKI")),o=r("04ZG"),c=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y"));let l=n=class extends c.a{constructor(e){super(e)}clone(){return new n({customLayerParameters:Object(s.a)(this.customLayerParameters),customParameters:Object(s.a)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};Object(i.a)([Object(a.b)({json:{type:Object,write:!0}})],l.prototype,"customLayerParameters",void 0),Object(i.a)([Object(a.b)({json:{type:Object,write:!0}})],l.prototype,"customParameters",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"layerIdentifier",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"tileMatrixSet",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"url",void 0),l=n=Object(i.a)([Object(o.a)("esri.layer.support.WMTSLayerInfo")],l),t.a=l},OvWd:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r("HaE+"),i=r("pO5D"),s=(r("wSAH"),r("nR38")),a=r("srIe"),o=(r("6S2I"),r("zqDF"),r("WbKI"),r("04ZG")),c=r("zlDU"),l=r("4EHJ"),u=(r("ju1D"),r("9AIY"),r("Lqtk")),f=r("kglp");function d(){return(d=Object(n.a)(function*(e,t){try{const{data:{supportedTravelModes:r,defaultTravelMode:n}}=yield Object(u.default)(e+("/"===e[e.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json",token:t}});return{supportedTravelModes:r,defaultTravelMode:n}}catch(r){throw new c.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:r})}})).apply(this,arguments)}function h(){return(h=Object(n.a)(function*(e,t){const{data:r}=yield Object(u.default)(e.substring(0,e.indexOf("/rest/")+6)+"info",{query:{f:"json",token:t}});if(!r||!r.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=r.owningSystemUrl;const{data:n}=yield Object(u.default)(e+("/"===e[e.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json",token:t}}),i=Object(s.b)("helperServices.routingUtilities.url",n);if(!i)return{supportedTravelModes:[],defaultTravelMode:null};const a=Object(l.J)(e),o=/\/solveClosestFacility$/.test(a.path)?"Route":/\/solveClosestFacility$/.test(a.path)?"ClosestFacility":"ServiceAreas",c=yield Object(u.default)(i+("/"===i[i.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:o,token:t}}),f=[];let d=null;if(c&&c.data&&c.data.results&&c.data.results.length){const e=c.data.results;for(const t of e)if("supportedTravelModes"===t.paramName){if(t.value&&t.value.features)for(const{attributes:e}of t.value.features)if(e){const t=JSON.parse(e.TravelMode);f.push(t)}}else"defaultTravelMode"===t.paramName&&(d=t.value)}return{supportedTravelModes:f,defaultTravelMode:d}})).apply(this,arguments)}const p=e=>{let t=class extends e{getServiceDescription(e){var t=this;return Object(n.a)(function*(){return t._serviceDescriptionPromise||(t._serviceDescriptionPromise=t._fetchServiceDescription(e)),t._serviceDescriptionPromise})()}_fetchServiceDescription(e){var t=this;return Object(n.a)(function*(){if(!t.url||!t.parsedUrl)throw new c.a("network-service:missing-url","Url to Network service is missing");const r=t.url,{data:n}=yield Object(u.default)(r,{query:{f:"json",token:e}});n.supportedTravelModes||(n.supportedTravelModes=[]);for(let e=0;e<n.supportedTravelModes.length;e++)n.supportedTravelModes[e].id||(n.supportedTravelModes[e].id=n.supportedTravelModes[e].itemId);const i=n.currentVersion>=10.4?function(e,t){return d.apply(this,arguments)}(r,e):function(e,t){return h.apply(this,arguments)}(r,e),{defaultTravelMode:s,supportedTravelModes:a}=yield i;return n.defaultTravelMode=s,n.supportedTravelModes=a,n})()}_isInputGeometryZAware(e,t){for(let r=0;r<t.length;r++){const n=e[t[r]];if(n&&n.length)for(const e of n)if(Object(a.i)(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,t){for(let r=0;r<t.length;r++){const n=e[t[r]];if(n&&n.length)for(const e of n)e.z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}};return t=Object(i.a)([Object(o.a)("esri.tasks.mixins.NAServiceDescription")],t),t};let y=class extends(p(f.a)){};y=Object(i.a)([Object(o.a)("esri.tasks.mixins.NAServiceDescription")],y)},"R/jG":function(e,t,r){"use strict";function n(){return new Float32Array(3)}function i(e,t,r){const n=new Float32Array(3);return n[0]=e,n[1]=t,n[2]=r,n}function s(){return n()}function a(){return i(1,1,1)}function o(){return i(1,0,0)}function c(){return i(0,1,0)}function l(){return i(0,0,1)}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});const u=s(),f=a(),d=o(),h=c(),p=l();Object.freeze({__proto__:null,create:n,clone:function(e){const t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},fromValues:i,createView:function(e,t){return new Float32Array(e,t,3)},zeros:s,ones:a,unitX:o,unitY:c,unitZ:l,ZEROS:u,ONES:f,UNIT_X:d,UNIT_Y:h,UNIT_Z:p})},S60b:function(e,t,r){"use strict";r.d(t,"a",function(){return z}),r.d(t,"b",function(){return G});var n=r("wSAH"),i=r("zlDU"),s=r("975N"),a=r("Lqtk"),o=r("0ynT"),c=(r("5sKF"),r("aelY")),l=(r("6S2I"),r("nvBr")),u=(r("cCpn"),r("Jv1m")),f=r("opr1"),d=r("LGNZ");let h=0,p=0;const y=Object(n.a)("android"),b=Object(n.a)("chrome")||y&&y>=4?"auto":"optimizeLegibility",m={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},g=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let O={},j={};const v={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},w=Math.PI;function x(e,t){const r=e*(w/180);return Math.abs(t*Math.sin(r))+Math.abs(t*Math.cos(r))}function _(e){return e.map(e=>`${e.command} ${e.values.join(" ")}`).join(" ").trim()}function S(e,t,r,n){if(e){if("circle"===e.type)return Object(u.a)("circle",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r});if("ellipse"===e.type)return Object(u.a)("ellipse",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry});if("rect"===e.type)return Object(u.a)("rect",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height});if("image"===e.type)return Object(u.a)("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"});if("path"===e.type){const n="string"!=typeof e.path?_(e.path):e.path;return Object(u.a)("path",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",d:n})}if("text"===e.type)return Object(u.a)("text",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4","text-anchor":n.align,"text-decoration":n.decoration,kerning:n.kerning,rotate:n.rotate,"text-rendering":b,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,"font-size":n.font.size,"font-family":n.font.family,x:e.x,y:e.y},e.text)}return null}function I(e){const t={fill:"none",pattern:null,linearGradient:null};if(e)if("type"in e&&"pattern"===e.type){const r="patternId-"+ ++h;t.fill=`url(#${r})`,t.pattern={id:r,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&"linear"===e.type){const r="linearGradientId-"+ ++p;t.fill=`url(#${r})`,t.linearGradient={id:r,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(e=>({offset:e.offset,color:e.color&&new l.a(e.color).toString()}))}}else if(e){const r=new l.a(e);t.fill=r.toString()}return t}function T(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(e&&(null!=e.width&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new l.a(e.color).toString()),e.style)){let r=null;if(e.style in v&&(r=v[e.style]),Array.isArray(r)){r=r.slice(0);for(let t=0;t<r.length;++t)r[t]*=e.width;if("butt"!==e.cap){for(let t=0;t<r.length;t+=2)r[t]-=e.width,r[t]<1&&(r[t]=1);for(let t=1;t<r.length;t+=2)r[t]+=e.width}r=r.join(",")}t.dashArray=r}return t}function M(e,t){const r={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return e&&(r.align=e.align,r.decoration=e.decoration,r.kerning=e.kerning?"auto":"0",r.rotate=e.rotated?"90":"0",r.font.style=t.style||"normal",r.font.variant=t.variant||"normal",r.font.weight=t.weight||"normal",r.font.size=t.size&&t.size.toString()||"10pt",r.font.family=t.family||"serif"),r}function A(e){const{pattern:t,linearGradient:r}=e;if(t)return Object(u.a)("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},Object(u.a)("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}));if(r){const e=r.stops.map((e,t)=>Object(u.a)("stop",{key:`${t}-stop`,offset:e.offset,"stop-color":e.color}));return Object(u.a)("linearGradient",{id:r.id,gradientUnits:"userSpaceOnUse",x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},e)}return null}function L(e,t,r){return Object(f.h)(e,Object(f.d)(e),[t,r])}function E(e,t,r,n,i){return Object(f.g)(e,Object(f.d)(e),[t,r]),e[4]=e[4]*t-n*t+n,e[5]=e[5]*r-i*r+i,e}function B(e,t){O&&"left"in O?(O.left>e&&(O.left=e),O.right<e&&(O.right=e),O.top>t&&(O.top=t),O.bottom<t&&(O.bottom=t)):O={left:e,bottom:t,right:e,top:t}}function C(e){const t=e.args,r=t.length;let n;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(n=0;n<r;n+=2)B(t[n],t[n+1]);j.x=t[r-2],j.y=t[r-1];break;case"H":for(n=0;n<r;++n)B(t[n],j.y);j.x=t[r-1];break;case"V":for(n=0;n<r;++n)B(j.x,t[n]);j.y=t[r-1];break;case"m":{let e=0;"x"in j||(B(j.x=t[0],j.y=t[1]),e=2);for(n=e;n<r;n+=2)B(j.x+=t[n],j.y+=t[n+1]);break}case"l":case"t":for(n=0;n<r;n+=2)B(j.x+=t[n],j.y+=t[n+1]);break;case"h":for(n=0;n<r;++n)B(j.x+=t[n],j.y);break;case"v":for(n=0;n<r;++n)B(j.x,j.y+=t[n]);break;case"c":for(n=0;n<r;n+=6)B(j.x+t[n],j.y+t[n+1]),B(j.x+t[n+2],j.y+t[n+3]),B(j.x+=t[n+4],j.y+=t[n+5]);break;case"s":case"q":for(n=0;n<r;n+=4)B(j.x+t[n],j.y+t[n+1]),B(j.x+=t[n+2],j.y+=t[n+3]);break;case"A":for(n=0;n<r;n+=7)B(t[n+5],t[n+6]);j.x=t[r-2],j.y=t[r-1];break;case"a":for(n=0;n<r;n+=7)B(j.x+=t[n+5],j.y+=t[n+6])}}function R(e,t,r){const n=m[e.toLowerCase()];let i;"number"==typeof n&&(n?t.length>=n&&(i={action:e,args:t.slice(0,t.length-t.length%n)},r.push(i),C(i)):(i={action:e,args:[]},r.push(i),C(i)))}function k(e){const t={x:0,y:0,width:0,height:0};if("circle"===e.type)t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if("ellipse"===e.type)t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if("image"===e.type||"rect"===e.type)t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if("path"===e.type){const r=function(e){const t=("string"!=typeof e.path?_(e.path):e.path).match(g),r=[];if(O={},j={},!t)return null;let n="",i=[];const s=t.length;for(let o=0;o<s;++o){const e=t[o],s=parseFloat(e);isNaN(s)?(n&&R(n,i,r),i=[],n=e):i.push(s)}R(n,i,r);const a={x:0,y:0,width:0,height:0};return O&&"left"in O&&(a.x=O.left,a.y=O.top,a.width=O.right-O.left,a.height=O.bottom-O.top),a}(e);t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height}return t}function F(e){const t={x:0,y:0,width:0,height:0};let r=null,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY;for(const s of e)r?(r.x=Math.min(r.x,s.x),r.y=Math.min(r.y,s.y),n=Math.max(n,s.x+s.width),i=Math.max(i,s.y+s.height)):(r=t,r.x=s.x,r.y=s.y,n=s.x+s.width,i=s.y+s.height);return r&&(r.width=n-r.x,r.height=i-r.y),r}function D(e,t,r,n,i,s,a,o){const c=(a&&s?x(s,t):t)/2,l=(a&&s?x(s,r):r)/2,u=e.width+n,h=e.height+n,p=Object(d.a)(),y=Object(d.a)();let b=!1;if(i&&0!==u&&0!==h){const e=u/h,n=t>r?t:r;let i=1,s=1;isNaN(n)||(e>1?(i=n/u,s=n/e/h):(s=n/h,i=n*e/u)),Object(f.e)(y,y,E(p,i,s,c,l)),b=!0}const m=e.x+(u-n)/2,g=e.y+(h-n)/2;if(Object(f.e)(y,y,L(p,c-m,l-g)),!b&&(u>t||h>r)){const e=u/t>h/r,n=(e?t:r)/(e?u:h);Object(f.e)(y,y,E(p,n,n,m,g))}return s&&Object(f.e)(y,y,function(e,t,r,n){const i=t%360*Math.PI/180;Object(f.f)(e,Object(f.d)(e),i);const s=Math.cos(i),a=Math.sin(i),o=e[4],c=e[5];return e[4]=o*s-c*a+n*a-r*s+r,e[5]=c*s+o*a-r*a-n*s+n,e}(p,s,m,g)),o&&Object(f.e)(y,y,L(p,o[0],o[1])),`matrix(${y[0]},${y[1]},${y[2]},${y[3]},${y[4]},${y[5]})`}function P(e,t,r,n){const i=[],s=[];for(const a of e){const e=[],o=[];let c=0,l=0,f=0;for(const t of a){const{shape:r,fill:n,stroke:s,font:a,offset:u}=t;c+=s&&s.width||0;const d=I(n),h=T(s),p="text"===r.type?M(r,a):null;i.push(A(d)),e.push(S(r,d.fill,h,p)),o.push(k(r)),u&&(l+=u[0],f+=u[1])}const d=D(F(o),t,r,c,null==n?void 0:n.scale,null==n?void 0:n.rotation,null==n?void 0:n.useRotationSize,[l,f]);s.push(Object(u.a)("g",{transform:d},e))}return null!=n&&n.useRotationSize&&null!=n&&n.rotation&&(t=x(null==n?void 0:n.rotation,t),r=x(null==n?void 0:n.rotation,r)),Object(u.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r},Object(u.a)("defs",null,i),s)}const N=Object(c.a)();function z(e,t,r){const n=Math.ceil(t[0]),i=Math.ceil(t[1]);if(!e.some(e=>!!e.length))return null;const s=r&&r.node||document.createElement("div");return null!=r.opacity&&(s.style.opacity=r.opacity.toString()),N.append(s,P.bind(null,e,n,i,r)),s}function q(e,t,r,n,i){switch(i){case"multiply":e[t+0]*=r[0],e[t+1]*=r[1],e[t+2]*=r[2],e[t+3]*=r[3];break;default:{const i=Object(o.a)({r:e[t+0],g:e[t+1],b:e[t+2]});i.h=n.h,i.s=n.s,i.v=i.v/100*n.v;const s=Object(o.d)(i);e[t+0]=s.r,e[t+1]=s.g,e[t+2]=s.b,e[t+3]*=r[3];break}}}function G(e,t,r,c,l){return(u=e,f=t,d=l,u?Object(a.default)(u,{responseType:"image"}).then(e=>{const t=e.data,r=t.width,n=t.height,i=r/n;let s=f;if(d){const e=Math.max(r,n);s=Math.min(s,e)}return{image:t,width:i<=1?Math.ceil(s*i):s,height:i<=1?s:Math.ceil(s/i)}}):Promise.reject(new i.a("renderUtils: imageDataSize","href not provided."))).then(i=>{const a=i.width?i.width:t,l=i.height?i.height:t;if(i.image&&function(e,t){return!(!e||"ignore"===t||"multiply"===t&&255===e.r&&255===e.g&&255===e.b&&1===e.a)}(r,c)){let t=i.image.width,s=i.image.height;(Object(n.a)("edge")||Object(n.a)("ie"))&&/\.svg$/i.test(e)&&(t-=1,s-=1);const u=function(e,t){e=Math.ceil(e),t=Math.ceil(t);const r=document.createElement("canvas");r.width=e,r.height=t,r.style.width=e+"px",r.style.height=t+"px";const n=r.getContext("2d");return n.clearRect(0,0,e,t),n}(a,l);u.drawImage(i.image,0,0,t,s,0,0,a,l);const f=u.getImageData(0,0,a,l),d=[r.r/255,r.g/255,r.b/255,r.a],h=Object(o.a)(r);for(let e=0;e<f.data.length;e+=4)q(f.data,e,d,h,c);u.putImageData(f,0,0),e=u.canvas.toDataURL("image/png")}else{const t=s.b&&s.b.findCredential(e);if(t&&t.token){const r=-1===e.indexOf("?")?"?":"&";e=`${e}${r}token=${t.token}`}}return{url:e,width:a,height:l}}).catch(function(){return{url:e,width:t,height:t}});var u,f,d}},SaAm:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r("gEht");function i(e,t){const r=t||e.extent,i=e.width,s=Object(n.d)(r&&r.spatialReference);return r&&i?r.width/i*s*n.h*96:0}},Tg0p:function(e,t,r){"use strict";var n,i=r("pO5D"),s=(r("wSAH"),r("f/qv")),a=(r("6S2I"),r("zqDF")),o=r("WbKI"),c=r("RI0u"),l=r("04ZG"),u=(r("4EHJ"),r("ju1D"),r("9AIY"),r("dzHX")),f=r("1hFN"),d=r("ag7Y"),h=r("nvBr");let p=n=class extends d.a{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new n({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:Object(s.a)(this.color)})}};Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"description",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"label",void 0),Object(i.a)([Object(o.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],p.prototype,"minValue",void 0),Object(i.a)([Object(o.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],p.prototype,"maxValue",void 0),Object(i.a)([Object(o.b)({type:h.a,json:{type:[a.a],write:!0}})],p.prototype,"color",void 0),p=n=Object(i.a)([Object(l.a)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],p);var y,b=p;let m=y=class extends u.a{constructor(e){super(e),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new y({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:Object(s.a)(this.colorClassBreakInfos),legendOptions:Object(s.a)(this.legendOptions)})}};Object(i.a)([Object(c.a)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],m.prototype,"type",void 0),Object(i.a)([Object(o.b)({json:{write:!0},type:String})],m.prototype,"field",void 0),Object(i.a)([Object(o.b)({type:f.a,json:{write:!0}})],m.prototype,"legendOptions",void 0),Object(i.a)([Object(o.b)({type:u.a.fieldTransformTypeKebabDict.apiValues,json:{type:u.a.fieldTransformTypeKebabDict.jsonValues,read:u.a.fieldTransformTypeKebabDict.read,write:u.a.fieldTransformTypeKebabDict.write}})],m.prototype,"fieldTransformType",void 0),Object(i.a)([Object(o.b)({type:[b],json:{write:!0}})],m.prototype,"colorClassBreakInfos",void 0),m=y=Object(i.a)([Object(l.a)("esri.renderers.PointCloudClassBreaksRenderer")],m),t.a=m},V4u7:function(e,t,r){"use strict";var n,i=r("pO5D"),s=(r("wSAH"),r("f/qv")),a=(r("6S2I"),r("zqDF"),r("WbKI")),o=r("RI0u"),c=r("04ZG"),l=(r("4EHJ"),r("ju1D"),r("9AIY"),r("dzHX")),u=r("1hFN"),f=r("P2CQ");let d=n=class extends l.a{constructor(e){super(e),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new n({...this.cloneProperties(),field:Object(s.a)(this.field),fieldTransformType:Object(s.a)(this.fieldTransformType),stops:Object(s.a)(this.stops),legendOptions:Object(s.a)(this.legendOptions)})}};Object(i.a)([Object(o.a)({pointCloudStretchRenderer:"point-cloud-stretch"})],d.prototype,"type",void 0),Object(i.a)([Object(a.b)({json:{write:!0},type:String})],d.prototype,"field",void 0),Object(i.a)([Object(a.b)({type:u.a,json:{write:!0}})],d.prototype,"legendOptions",void 0),Object(i.a)([Object(a.b)({type:l.a.fieldTransformTypeKebabDict.apiValues,json:{type:l.a.fieldTransformTypeKebabDict.jsonValues,read:l.a.fieldTransformTypeKebabDict.read,write:l.a.fieldTransformTypeKebabDict.write}})],d.prototype,"fieldTransformType",void 0),Object(i.a)([Object(a.b)({type:[f.a],json:{write:!0}})],d.prototype,"stops",void 0),d=n=Object(i.a)([Object(c.a)("esri.renderers.PointCloudStretchRenderer")],d),t.a=d},VeZB:function(e,t,r){"use strict";r.d(t,"a",function(){return d}),r.d(t,"b",function(){return j}),r.d(t,"c",function(){return z}),r.d(t,"d",function(){return U}),r.d(t,"e",function(){return F}),r.d(t,"f",function(){return b}),r.d(t,"g",function(){return m}),r.d(t,"h",function(){return g}),r.d(t,"i",function(){return O}),r.d(t,"j",function(){return M}),r.d(t,"k",function(){return B}),r.d(t,"l",function(){return _}),r.d(t,"m",function(){return h}),r.d(t,"n",function(){return v}),r.d(t,"o",function(){return q}),r.d(t,"p",function(){return H}),r.d(t,"q",function(){return D}),r.d(t,"r",function(){return A}),r.d(t,"s",function(){return C}),r.d(t,"t",function(){return S}),r.d(t,"u",function(){return p}),r.d(t,"v",function(){return w}),r.d(t,"w",function(){return G}),r.d(t,"x",function(){return Z}),r.d(t,"y",function(){return P}),r.d(t,"z",function(){return L}),r.d(t,"A",function(){return R}),r.d(t,"B",function(){return I}),r.d(t,"C",function(){return y}),r.d(t,"D",function(){return x}),r.d(t,"E",function(){return V}),r.d(t,"F",function(){return J}),r.d(t,"G",function(){return N}),r.d(t,"H",function(){return E}),r.d(t,"I",function(){return k}),r.d(t,"J",function(){return T});class n{constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=9;const s=this.TypedArrayConstructor;void 0===n&&(n=9*s.BYTES_PER_ELEMENT);const a=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,a):new s(t,a,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getMat(e,t){const r=e*this.typedBufferStride;for(let n=0;n<9;n++)t[n]=this.typedBuffer[r+n];return t}setMat(e,t){const r=e*this.typedBufferStride;for(let n=0;n<9;n++)this.typedBuffer[r+n]=t[n]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer,s=e*this.typedBufferStride,a=r*t.typedBufferStride;for(let o=0;o<9;++o)n[s+o]=i[a+o]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=9;class i{constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=16;const s=this.TypedArrayConstructor;void 0===n&&(n=16*s.BYTES_PER_ELEMENT);const a=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,a):new s(t,a,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getMat(e,t){const r=e*this.typedBufferStride;for(let n=0;n<16;n++)t[n]=this.typedBuffer[r+n];return t}setMat(e,t){const r=e*this.typedBufferStride;for(let n=0;n<16;n++)this.typedBuffer[r+n]=t[n]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer,s=e*this.typedBufferStride,a=r*t.typedBufferStride;for(let o=0;o<16;++o)n[s+o]=i[a+o]}get buffer(){return this.typedBuffer.buffer}}i.ElementCount=16;class s{constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=1;const s=this.TypedArrayConstructor;void 0===n&&(n=s.BYTES_PER_ELEMENT);const a=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,a):new s(t,a,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}get(e){return this.typedBuffer[e*this.typedBufferStride]}set(e,t){this.typedBuffer[e*this.typedBufferStride]=t}get buffer(){return this.typedBuffer.buffer}}s.ElementCount=1;var a=r("M0lq");class o{constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=2;const s=this.TypedArrayConstructor;void 0===n&&(n=2*s.BYTES_PER_ELEMENT);const a=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,a):new s(t,a,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getVec(e,t){return Object(a.m)(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1])}setVec(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=r}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer,s=e*this.typedBufferStride,a=r*t.typedBufferStride;n[s]=i[a],n[s+1]=i[a+1]}get buffer(){return this.typedBuffer.buffer}}o.ElementCount=2;var c=r("5DEt");class l{constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=3;const s=this.TypedArrayConstructor;void 0===n&&(n=3*s.BYTES_PER_ELEMENT);const a=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,a):new s(t,a,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getVec(e,t){return Object(c.r)(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2])}setVec(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r,n){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=r,this.typedBuffer[e*this.typedBufferStride+2]=n}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer,s=e*this.typedBufferStride,a=r*t.typedBufferStride;n[s]=i[a],n[s+1]=i[a+1],n[s+2]=i[a+2]}get buffer(){return this.typedBuffer.buffer}}l.ElementCount=3;var u=r("dXfX");class f{constructor(e,t,r=0,n,i){this.TypedArrayConstructor=e,this.elementCount=4;const s=this.TypedArrayConstructor;void 0===n&&(n=4*s.BYTES_PER_ELEMENT);const a=0===t.byteLength?0:r;this.typedBuffer=null==i?new s(t,a):new s(t,a,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}getVec(e,t){return Object(u.k)(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2],this.typedBuffer[e*this.typedBufferStride+3])}setVec(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2],this.typedBuffer[e*this.typedBufferStride+3]=t[3]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r,n,i){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=r,this.typedBuffer[e*this.typedBufferStride+2]=n,this.typedBuffer[e*this.typedBufferStride+3]=i}copyFrom(e,t,r){const n=this.typedBuffer,i=t.typedBuffer,s=e*this.typedBufferStride,a=r*t.typedBufferStride;n[s]=i[a],n[s+1]=i[a+1],n[s+2]=i[a+2],n[s+3]=i[a+3]}get buffer(){return this.typedBuffer.buffer}}f.ElementCount=4;class d extends s{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}static fromTypedArray(e,t){return new d(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}d.ElementType="f32";class h extends o{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}static fromTypedArray(e,t){return new h(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}h.ElementType="f32";class p extends l{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}static fromTypedArray(e,t){return new p(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}p.ElementType="f32";class y extends f{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}static fromTypedArray(e,t){return new y(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}y.ElementType="f32";class b extends n{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}static fromTypedArray(e,t){return new b(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}b.ElementType="f32";class m extends n{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}static fromTypedArray(e,t){return new m(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}m.ElementType="f64";class g extends i{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}static fromTypedArray(e,t){return new g(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}g.ElementType="f32";class O extends i{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}static fromTypedArray(e,t){return new O(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}O.ElementType="f64";class j extends s{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}static fromTypedArray(e,t){return new j(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}j.ElementType="f64";class v extends o{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}static fromTypedArray(e,t){return new v(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}v.ElementType="f64";class w extends l{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}static fromTypedArray(e,t){return new w(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}w.ElementType="f64";class x extends f{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}static fromTypedArray(e,t){return new x(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}x.ElementType="f64";class _ extends s{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}static fromTypedArray(e,t){return new _(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}_.ElementType="u8";class S extends o{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}static fromTypedArray(e,t){return new S(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}S.ElementType="u8";class I extends l{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}static fromTypedArray(e,t){return new I(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}I.ElementType="u8";class T extends f{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}static fromTypedArray(e,t){return new T(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}T.ElementType="u8";class M extends s{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}static fromTypedArray(e,t){return new M(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}M.ElementType="u16";class A extends o{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}static fromTypedArray(e,t){return new A(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}A.ElementType="u16";class L extends l{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}static fromTypedArray(e,t){return new L(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}L.ElementType="u16";class E extends f{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}static fromTypedArray(e,t){return new E(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}E.ElementType="u16";class B extends s{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}static fromTypedArray(e,t){return new B(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}B.ElementType="u32";class C extends o{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}static fromTypedArray(e,t){return new C(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}C.ElementType="u32";class R extends l{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}static fromTypedArray(e,t){return new R(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}R.ElementType="u32";class k extends f{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}static fromTypedArray(e,t){return new k(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}k.ElementType="u32";class F extends s{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}static fromTypedArray(e,t){return new F(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}F.ElementType="i8";class D extends o{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}static fromTypedArray(e,t){return new D(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}D.ElementType="i8";class P extends l{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}static fromTypedArray(e,t){return new P(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}P.ElementType="i8";class N extends f{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}static fromTypedArray(e,t){return new N(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}N.ElementType="i8";class z extends s{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}static fromTypedArray(e,t){return new z(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}z.ElementType="i16";class q extends o{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}static fromTypedArray(e,t){return new q(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}q.ElementType="i16";class G extends l{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}static fromTypedArray(e,t){return new G(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}G.ElementType="i16";class V extends f{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}static fromTypedArray(e,t){return new V(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}V.ElementType="i16";class U extends s{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}static fromTypedArray(e,t){return new U(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}U.ElementType="i32";class H extends o{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}static fromTypedArray(e,t){return new H(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}H.ElementType="i32";class Z extends l{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}static fromTypedArray(e,t){return new Z(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Z.ElementType="i32";class J extends f{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}static fromTypedArray(e,t){return new J(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}J.ElementType="i32"},XJLX:function(e,t,r){"use strict";r.r(t),r.d(t,"fromItem",function(){return u}),r.d(t,"selectLayerClassPath",function(){return f});var n=r("HaE+"),i=r("srIe"),s=r("zlDU"),a=r("Lqtk"),o=r("p+Gi"),c=r("Dfpg"),l=r("oLSx");function u(e){return!e.portalItem||e.portalItem instanceof o.default||(e={...e,portalItem:new o.default(e.portalItem)}),function(e){return e.load().then(f).then(d)}(e.portalItem).then(t=>{const r={portalItem:e.portalItem,...t.properties};return Promise.resolve(new(0,t.constructor)(r))})}function f(e){switch(e.type){case"Map Service":return function(e){return function(e){return O(e.url).then(e=>e.tileInfo)}(e).then(e=>e?{className:"TileLayer"}:{className:"MapImageLayer"})}(e);case"Feature Service":return function(e){return y(e).then(e=>{if("object"==typeof e){const t={};return null!=e.id&&(t.layerId=e.id),{className:"FeatureLayer",properties:t}}return{className:"GroupLayer"}})}(e);case"Feature Collection":return function(e){return h.apply(this,arguments)}(e);case"Scene Service":return function(e){return y(e).then(t=>{if("object"==typeof t){const r={};let n;if(null!=t.id?(r.layerId=t.id,n=`${e.url}/layers/${t.id}`):n=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const t={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const r of Object.keys(t))if(-1!==e.typeKeywords.indexOf(r))return{className:t[r]}}return O(n).then(e=>{let t="SceneLayer";const n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&n[e.layerType]&&(t=n[e.layerType]),{className:t,properties:r}})}return{className:"GroupLayer"}})}(e);case"Image Service":return function(e){return p.apply(this,arguments)}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new s.a("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function d(e){return(0,l.a[e.className])().then(t=>({constructor:t,properties:e.properties}))}function h(){return(h=Object(n.a)(function*(e){return yield e.load(),Object(c.a)(e,"Map Notes")?{className:"MapNotesLayer"}:Object(c.a)(e,"Route Layer")?{className:"RouteLayer"}:1===g(yield e.fetchData())?{className:"FeatureLayer"}:{className:"GroupLayer"}})).apply(this,arguments)}function p(){return(p=Object(n.a)(function*(e){var t,r,n;yield e.load();const i=null!=(t=null==(r=e.typeKeywords)?void 0:r.map(e=>e.toLowerCase()))?t:[];if(i.indexOf("elevation 3d layer")>-1)return{className:"ElevationLayer"};if(i.indexOf("tiled imagery")>-1)return{className:"ImageryTileLayer"};const s=yield e.fetchData(),a=null==s?void 0:s.layerType;return"ArcGISTiledImageServiceLayer"===a?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===a?{className:"ImageryLayer"}:"map"===(null==(n=(yield O(e.url)).cacheType)?void 0:n.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}})).apply(this,arguments)}function y(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then(()=>e.fetchData()).then(t=>g(t)>0?b(t):O(e.url).then(b))}function b(e){return 1===g(e)&&{id:Object(i.o)(m(e))}}function m(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function g(e){var t,r,n,i;return(null!=(t=null==e||null==(r=e.layers)?void 0:r.length)?t:0)+(null!=(n=null==e||null==(i=e.tables)?void 0:i.length)?n:0)}function O(e){return Object(a.default)(e,{responseType:"json",query:{f:"json"}}).then(e=>e.data)}},ZKYY:function(e,t,r){"use strict";r.d(t,"a",function(){return x}),r.d(t,"b",function(){return _}),r.d(t,"c",function(){return T}),r.d(t,"d",function(){return S}),r.d(t,"e",function(){return I});var n=r("HaE+"),i=r("nR38"),s=r("srIe"),a=r("zlDU"),o=r("Lqtk"),c=r("u3Ia"),l=r("pO5D"),u=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),f=r("r88o"),d=r("04ZG"),h=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y")),p=r("jWBI"),y=r("8prj"),b=r("54nt"),m=r("eKLr");let g=class extends h.a{constructor(e){super(e),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};Object(l.a)([Object(u.b)({type:m.a,json:{write:!0}})],g.prototype,"directions",void 0),Object(l.a)([Object(u.b)({type:p.a,json:{write:!0}})],g.prototype,"route",void 0),Object(l.a)([Object(u.b)({type:String,json:{write:!0}})],g.prototype,"routeName",void 0),Object(l.a)([Object(u.b)({type:[p.a],json:{write:!0}})],g.prototype,"stops",void 0),g=Object(l.a)([Object(d.a)("esri.tasks.support.RouteResult")],g);var O=g;function j(e){return e&&y.default.fromJSON(e).features.map(e=>e)}let v=class extends h.a{constructor(e){super(e),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(e,t){return j(t.barriers||t.pointBarriers)}readPolylineBarriers(e){return j(e)}readPolygonBarriers(e){return j(e)}};Object(l.a)([Object(u.b)({aliasOf:"pointBarriers"})],v.prototype,"barriers",void 0),Object(l.a)([Object(u.b)({type:[b.a]})],v.prototype,"messages",void 0),Object(l.a)([Object(u.b)({type:[p.a]})],v.prototype,"pointBarriers",void 0),Object(l.a)([Object(f.a)("pointBarriers",["barriers","pointBarriers"])],v.prototype,"readPointBarriers",null),Object(l.a)([Object(u.b)({type:[p.a]})],v.prototype,"polylineBarriers",void 0),Object(l.a)([Object(f.a)("polylineBarriers")],v.prototype,"readPolylineBarriers",null),Object(l.a)([Object(u.b)({type:[p.a]})],v.prototype,"polygonBarriers",void 0),Object(l.a)([Object(f.a)("polygonBarriers")],v.prototype,"readPolygonBarriers",null),Object(l.a)([Object(u.b)({type:[O]})],v.prototype,"routeResults",void 0),v=Object(l.a)([Object(d.a)("esri.tasks.support.RouteResultsContainer")],v);var w=v;function x(e,t,r,n){n[r]=[t.length,t.length+e.length],e.forEach(e=>{t.push(e.geometry)})}function _(e,t){for(let r=0;r<t.length;r++){const n=e[t[r]];if(n&&n.length)for(const e of n)e.z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function S(e){const t=[],r=[],{directions:n=[],routes:{features:i=[],spatialReference:s=null}={},stops:{features:a=[],spatialReference:o=null}={},barriers:c,polygonBarriers:l,polylineBarriers:u,messages:f}=e.data,d="esri.tasks.RouteTask.NULL_ROUTE_NAME";let h,p,y=!0;const b=i&&s||a&&o||c&&c.spatialReference||l&&l.spatialReference||u&&u.spatialReference;n.forEach(e=>{t.push(h=e.routeName),r[h]={directions:e}}),i.forEach(e=>{-1===t.indexOf(h=e.attributes.Name)&&(t.push(h),r[h]={}),e.geometry&&(e.geometry.spatialReference=b),r[h].route=e}),a.forEach(e=>{p=e.attributes,-1===t.indexOf(h=p.RouteName||d)&&(t.push(h),r[h]={}),h!==d&&(y=!1),e.geometry&&(e.geometry.spatialReference=b),null==r[h].stops&&(r[h].stops=[]),r[h].stops.push(e)}),a.length>0&&!0===y&&(r[t[0]].stops=r[d].stops,delete r[d],t.splice(t.indexOf(d),1));const m=t.map(e=>(r[e].routeName=e===d?null:e,r[e]));return w.fromJSON({routeResults:m,pointBarriers:c,polygonBarriers:l,polylineBarriers:u,messages:f})}function I(e,t){for(let r=0;r<t.length;r++){const n=e[t[r]];if(n&&n.length)for(const e of n)if(Object(s.i)(e)&&e.hasZ)return!0}return!1}function T(e){return M.apply(this,arguments)}function M(){return(M=Object(n.a)(function*(e){if(!e)throw new a.a("network-service:missing-url","Url to Network service is missing");const{data:t}=yield Object(o.default)(e,{query:{f:"json"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let s=0;s<t.supportedTravelModes.length;s++)t.supportedTravelModes[s].id||(t.supportedTravelModes[s].id=t.supportedTravelModes[s].itemId);const r=t.currentVersion>=10.4?E(e):A(e),{defaultTravelMode:n,supportedTravelModes:i}=yield r;return t.defaultTravelMode=n,t.supportedTravelModes=i,t})).apply(this,arguments)}function A(e){return L.apply(this,arguments)}function L(){return(L=Object(n.a)(function*(e){const{data:t}=yield Object(o.default)(e.substring(0,e.indexOf("/rest/")+6)+"info",{query:{f:"json"}});if(!t||!t.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=t.owningSystemUrl;const{data:r}=yield Object(o.default)(e+("/"===e[e.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}}),n=Object(i.b)("helperServices.routingUtilities.url",r);if(!n)return{supportedTravelModes:[],defaultTravelMode:null};const s=Object(c.c)(e),a=/\/solve$/.test(s.path)?"Route":/\/solveClosestFacility$/.test(s.path)?"ClosestFacility":"ServiceAreas",l=yield Object(o.default)(n+("/"===n[n.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:a}}),u=[];let f=null;if(l&&l.data&&l.data.results&&l.data.results.length){const e=l.data.results;for(const t of e)if("supportedTravelModes"===t.paramName){if(t.value&&t.value.features)for(const{attributes:e}of t.value.features)if(e){const t=JSON.parse(e.TravelMode);u.push(t)}}else"defaultTravelMode"===t.paramName&&(f=t.value)}return{supportedTravelModes:u,defaultTravelMode:f}})).apply(this,arguments)}function E(e){return B.apply(this,arguments)}function B(){return(B=Object(n.a)(function*(e){try{const{data:{supportedTravelModes:t,defaultTravelMode:r}}=yield Object(o.default)(e+("/"===e[e.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}});return{supportedTravelModes:t,defaultTravelMode:r}}catch(t){throw new a.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:t})}})).apply(this,arguments)}},cBWO:function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return u});var n=r("s7YA"),i=r("IDUf");const s={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function a(e){e||(e=Object(i.b)());let t=e in s;if(!t){const r=e.split("-");r.length>1&&r[0]in s&&(e=r[0],t=!0),t||(e="en")}const[r,n,a="#,##0.###"]=s[e];return{decimal:r,group:n,pattern:a}}function o(e,t){const r=a((t={...t}).locale);t.customs=r;const n=t.pattern||r.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,r){const n=(r=r||{}).customs.group,i=r.customs.decimal,s=t.split(";"),a=s[0];if(-1!==(t=s[e<0?1:0]||"-"+a).indexOf("%"))e*=100;else if(-1!==t.indexOf("\u2030"))e*=1e3;else{if(-1!==t.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}const o=c,l=a.match(o);if(!l)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(o,function(e,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);const n=t.split("."),i="string"==typeof r.places&&r.places.indexOf(",");let s=r.places;i?s=r.places.substring(i+1):s>=0||(s=(n[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(s))));const a=String(Math.abs(e)).split("."),o=a[1]||"";if(n[1]||r.places){i&&(r.places=r.places.substring(0,i));const e=void 0!==r.places?r.places:n[1]&&n[1].lastIndexOf("0")+1;e>o.length&&(a[1]=o.padEnd(Number(e),"0")),s<o.length&&(a[1]=o.substr(0,Number(s)))}else a[1]&&a.pop();const c=n[0].replace(",","");let l=c.indexOf("0");-1!==l&&(l=c.length-l,l>a[0].length&&(a[0]=a[0].padStart(l,"0")),-1===c.indexOf("#")&&(a[0]=a[0].substr(a[0].length-l)));let u,f,d=n[0].lastIndexOf(",");if(-1!==d){u=n[0].length-d-1;const e=n[0].substr(0,d);d=e.lastIndexOf(","),-1!==d&&(f=e.length-d-1)}const h=[];for(let p=a[0];p;){const e=p.length-u;h.push(e>0?p.substr(e):p),p=e>0?p.slice(0,e):"",f&&(u=f,f=void 0)}return a[0]=h.reverse().join(r.group||","),a.join(r.decimal||".")}(e,l[0],{decimal:i,group:n,places:r.places,round:r.round}))}(e,n,t)}const c=/[#0,]*[#0](?:\.0*#*)?/;function l(e){const t=a((e=e||{}).locale),r=e.pattern||t.pattern,i=t.group,s=t.decimal;let o=1;if(-1!==r.indexOf("%"))o/=100;else if(-1!==r.indexOf("\u2030"))o/=1e3;else if(-1!==r.indexOf("\xa4"))throw new Error("currency notation not supported");const l=r.split(";");return 1===l.length&&l.push("-"+l[0]),{regexp:d(l,function(t){return(t="(?:"+Object(n.a)(t,".")+")").replace(c,function(t){const r={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:s,exponent:!1},n=t.split(".");let a=e.places;1===n.length&&1!==o&&(n[1]="###"),1===n.length||0===a?r.fractional=!1:(void 0===a&&(a=e.pattern?n[1].lastIndexOf("0")+1:1/0),a&&null==e.fractional&&(r.fractional=!0),!e.places&&a<n[1].length&&(a+=","+n[1].length),r.places=a);const c=n[0].split(",");return c.length>1&&(r.groupSize=c.pop().length,c.length>1&&(r.groupSize2=c.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=f(e),r=d(e.fractional,function(t){let r="";return t&&0!==e.places&&(r="\\"+e.decimal,e.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+e.places+"}"),r},!0);let n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+d(e.exponent,function(t){return t?"([eE]"+f({signed:e.eSigned})+")":""})}(r)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:s,factor:o}}function u(e,t){const r=l(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;let i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor}function f(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",d(e.signed,function(e){return e?"[-+]":""},!0)+d(e.separator,function(t){if(!t)return"(?:\\d+)";" "===(t=Object(n.a)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");const r=e.groupSize,i=e.groupSize2;if(i){const e="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+r+"})";return r-i>0?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":e}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"},!0)}const d=function(e,t,r){if(!(e instanceof Array))return t(e);const n=[];for(let i=0;i<e.length;i++)n.push(t(e[i]));return h(n.join("|"),r)},h=function(e,t){return"("+(t?"?:":"")+e+")"}},cM4j:function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("04ZG"),a=(r("4EHJ"),r("ju1D"),r("9AIY"),r("/CmD")),o=r("IvSi"),c=r("kJYu"),l=r("Ilhi");const u={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let f=class extends(Object(c.b)(a.a)){constructor(e){super(e),this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map(e=>e.toExportImageJSON());return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&Object(l.a)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),e.on("sublayer-update",e=>this.notifyChange(u[e.propertyName]))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map(e=>e.id).join(","):"show:-1":null}get layerDefs(){const e=this.visibleSublayers.filter(e=>null!=e.definitionExpression);return e.length?JSON.stringify(e.reduce((e,t)=>(e[t.id]=t.definitionExpression,e),{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const t=this.layer.sublayers,r=t=>{const n=this.scale;t.visible&&(0===n||(0===t.minScale||n<=t.minScale)&&(0===t.maxScale||n>=t.maxScale))&&(t.sublayers?t.sublayers.forEach(r):e.unshift(t))};t&&t.forEach(r);const n=this._get("visibleSublayers");return!n||n.length!==e.length||n.some((t,r)=>e[r]!==t)?e:n}toJSON(){const e=this.layer;let t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t={...t,layers:this.layers,layerDefs:this.layerDefs},t}};Object(n.a)([Object(i.b)({readOnly:!0})],f.prototype,"dynamicLayers",null),Object(n.a)([Object(i.b)({readOnly:!0})],f.prototype,"hasDynamicLayers",null),Object(n.a)([Object(i.b)()],f.prototype,"layer",null),Object(n.a)([Object(i.b)({readOnly:!0})],f.prototype,"layers",null),Object(n.a)([Object(i.b)({readOnly:!0})],f.prototype,"layerDefs",null),Object(n.a)([Object(i.b)({type:Number})],f.prototype,"scale",void 0),Object(n.a)([Object(i.b)(o.a)],f.prototype,"timeExtent",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],f.prototype,"version",null),Object(n.a)([Object(i.b)({readOnly:!0})],f.prototype,"visibleSublayers",null),f=Object(n.a)([Object(s.a)("esri.layers.mixins.ExportImageParameters")],f)},dXfX:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return b}),r.d(t,"e",function(){return h}),r.d(t,"f",function(){return p}),r.d(t,"g",function(){return O}),r.d(t,"h",function(){return j}),r.d(t,"i",function(){return m}),r.d(t,"j",function(){return y}),r.d(t,"k",function(){return s}),r.d(t,"l",function(){return g});var n=r("QhKk");function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function a(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function c(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function l(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function u(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function f(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+s*s)}function d(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return r*r+n*n+i*i+s*s}function h(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function p(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function y(e,t){const r=t[0],n=t[1],i=t[2],s=t[3];let a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=s*a),e}function b(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function m(e,t,r,n){const i=t[0],s=t[1],a=t[2],o=t[3];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=a+n*(r[2]-a),e[3]=o+n*(r[3]-o),e}function g(e,t,r){const n=t[0],i=t[1],s=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,e}function O(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function j(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=t[0],c=t[1],l=t[2],u=t[3];return Math.abs(r-o)<=n.a*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-c)<=n.a*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-l)<=n.a*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(a-u)<=n.a*Math.max(1,Math.abs(a),Math.abs(u))}Object.freeze({__proto__:null,copy:i,set:s,add:a,subtract:o,multiply:c,divide:l,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:u,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},distance:f,squaredDistance:d,length:h,squaredLength:p,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:y,dot:b,lerp:m,random:function(e,t){let r,i,s,a,o,c;t=t||1;do{r=2*Object(n.b)()-1,i=2*Object(n.b)()-1,o=r*r+i*i}while(o>=1);do{s=2*Object(n.b)()-1,a=2*Object(n.b)()-1,c=s*s+a*a}while(c>=1);const l=Math.sqrt((1-o)/c);return e[0]=t*r,e[1]=t*i,e[2]=t*s*l,e[3]=t*a*l,e},transformMat4:g,transformQuat:function(e,t,r){const n=t[0],i=t[1],s=t[2],a=r[0],o=r[1],c=r[2],l=r[3],u=l*n+o*s-c*i,f=l*i+c*n-a*s,d=l*s+a*i-o*n,h=-a*n-o*i-c*s;return e[0]=u*l+h*-a+f*-c-d*-o,e[1]=f*l+h*-o+d*-a-u*-c,e[2]=d*l+h*-c+u*-o-f*-a,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:O,equals:j,sub:o,mul:c,div:l,dist:f,sqrDist:d,len:h,sqrLen:p})},dZC4:function(e,t,r){"use strict";r.r(t),r.d(t,"hydratedAdapter",function(){return c});var n=r("SuVq"),i=r("OvF4"),s=r("V9wi"),a=r("Ehki"),o=r("UhwK");const c={convertToGEGeometry:function(e,t){if(null==t)return null;let r="cache"in t?t.cache._geVersion:void 0;return null==r&&(r=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=r)),r},exportPoint:function(e,t,r){const i=e.hasZ(t),s=e.hasM(t),a=new n.a({x:e.getPointX(t),y:e.getPointY(t),spatialReference:r});return i&&(a.z=e.getPointZ(t)),s&&(a.m=e.getPointM(t)),a.cache._geVersion=t,a},exportPolygon:function(e,t,r){const n=new a.a({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:r});return n.cache._geVersion=t,n},exportPolyline:function(e,t,r){const n=new o.a({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:r});return n.cache._geVersion=t,n},exportMultipoint:function(e,t,r){const n=new s.a({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:r});return n.cache._geVersion=t,n},exportExtent:function(e,t,r){const n=e.hasZ(t),s=e.hasM(t),a=new i.a({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:r});if(n){const r=e.getZExtent(t);a.zmin=r.vmin,a.zmax=r.vmax}if(s){const r=e.getMExtent(t);a.mmin=r.vmin,a.mmax=r.vmax}return a.cache._geVersion=t,a}}},dzHX:function(e,t,r){"use strict";var n,i=r("pO5D"),s=(r("wSAH"),r("f/qv")),a=(r("6S2I"),r("zqDF"),r("WbKI")),o=r("+opI"),c=r("04ZG"),l=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y"));let u=n=class extends l.a{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new n({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],u.prototype,"field",void 0),Object(i.a)([Object(a.b)({type:Number,nonNullable:!0,json:{write:!0}})],u.prototype,"minValue",void 0),Object(i.a)([Object(a.b)({type:Number,nonNullable:!0,json:{write:!0}})],u.prototype,"maxValue",void 0),u=n=Object(i.a)([Object(c.a)("esri.renderers.support.pointCloud.ColorModulation")],u);var f=u;const d=new o.a({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let h=class extends l.a{};Object(i.a)([Object(a.b)({type:d.apiValues,readOnly:!0,nonNullable:!0,json:{type:d.jsonValues,read:!1,write:d.write}})],h.prototype,"type",void 0),h=Object(i.a)([Object(c.a)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],h);var p,y=h,b=r("RI0u");let m=p=class extends y{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new p({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};Object(i.a)([Object(b.a)({pointCloudFixedSizeAlgorithm:"fixed-size"})],m.prototype,"type",void 0),Object(i.a)([Object(a.b)({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"size",void 0),Object(i.a)([Object(a.b)({type:Boolean,json:{write:!0}})],m.prototype,"useRealWorldSymbolSizes",void 0),m=p=Object(i.a)([Object(c.a)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],m);var g,O=m;let j=g=class extends y{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new g({scaleFactor:this.scaleFactor})}};Object(i.a)([Object(b.a)({pointCloudSplatAlgorithm:"splat"})],j.prototype,"type",void 0),Object(i.a)([Object(a.b)({type:Number,value:1,nonNullable:!0,json:{write:!0}})],j.prototype,"scaleFactor",void 0),j=g=Object(i.a)([Object(c.a)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],j);const v={key:"type",base:y,typeMap:{"fixed-size":O,splat:j}},w=Object(o.b)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let x=class extends l.a{constructor(e){super(e),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:Object(s.a)(this.pointSizeAlgorithm),colorModulation:Object(s.a)(this.colorModulation),pointsPerInch:Object(s.a)(this.pointsPerInch)}}};Object(i.a)([Object(a.b)({type:w.apiValues,readOnly:!0,nonNullable:!0,json:{type:w.jsonValues,read:!1,write:w.write}})],x.prototype,"type",void 0),Object(i.a)([Object(a.b)({types:v,json:{write:!0}})],x.prototype,"pointSizeAlgorithm",void 0),Object(i.a)([Object(a.b)({type:f,json:{write:!0}})],x.prototype,"colorModulation",void 0),Object(i.a)([Object(a.b)({json:{write:!0},nonNullable:!0,type:Number})],x.prototype,"pointsPerInch",void 0),x=Object(i.a)([Object(c.a)("esri.renderers.PointCloudRenderer")],x),(x||(x={})).fieldTransformTypeKebabDict=new o.a({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"}),t.a=x},e4KH:function(e,t,r){"use strict";var n=r("NrhG"),i=r("Du6U"),s=r("eT81"),a=r("QFw1");t.a=class{dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(e,t,r){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),"simple-fill"===e.type||"esriSFS"===e.type){const[r,n,i]=s.c.rasterizeSimpleFill(this._rasterizationCanvas,e.style,t);return{size:[n,i],image:new Uint32Array(r.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if("simple-line"===e.type||"esriSLS"===e.type){const[t,r,n]=s.c.rasterizeSimpleLine(e.style,e.cap);return{size:[r,n],image:new Uint32Array(t.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let n,o,c;if("simple-marker"===e.type||"esriSMS"===e.type||"line-marker"===e.type?(n=s.a.fromSimpleMarker(e),c=Object(a.c)(n)):"CIMHatchFill"===e.type?(n=s.a.fromCIMHatchFill(e),o=new i.a(n.frame.xmin,-n.frame.ymax,n.frame.xmax-n.frame.xmin,n.frame.ymax-n.frame.ymin)):e.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===e.markerPlacement.type?(n=s.a.fromCIMInsidePolygon(e),o=new i.a(n.frame.xmin,-n.frame.ymax,n.frame.xmax-n.frame.xmin,n.frame.ymax-n.frame.ymin)):(n=e,c=Object(a.c)(n)),c&&!r){const[e,t,r]=Object(a.a)(c);return e?{size:[t,r],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[l,u,f,d,h]=s.a.rasterize(this._rasterizationCanvas,n,o,!r);return l?{size:[u,f],image:new Uint32Array(l.buffer),sdf:!1,simplePattern:!1,anchorX:d,anchorY:h}:null}rasterizeImageResource(e,t,r,i){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=t;const s=this._rasterizationCanvas.getContext("2d");r instanceof ImageData?s.putImageData(r,0,0):(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`),s.drawImage(r,0,0,e,t));const a=s.getImageData(0,0,e,t),o=new Uint8Array(a.data);if(i)for(const n of i)if(n&&n.oldColor&&4===n.oldColor.length&&n.newColor&&4===n.newColor.length){const[e,t,r,i]=n.oldColor,[s,a,c,l]=n.newColor;if(e===s&&t===a&&r===c&&i===l)continue;for(let n=0;n<o.length;n+=4)e===o[n]&&t===o[n+1]&&r===o[n+2]&&i===o[n+3]&&(o[n]=s,o[n+1]=a,o[n+2]=c,o[n+3]=l)}let c;for(let n=0;n<o.length;n+=4)c=o[n+3]/255,o[n]=o[n]*c,o[n+1]=o[n+1]*c,o[n+2]=o[n+2]*c;let l=o,u=e,f=t;const d=512;if(u>=d||f>=d){const r=u/f;r>1?(u=d,f=Math.round(d/r)):(f=d,u=Math.round(d*r)),l=new Uint8Array(4*u*f);const i=new Uint8ClampedArray(l.buffer);Object(n.j)(o,e,t,i,u,f,!1)}return{size:[e,t],image:new Uint32Array(l.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}},eKLr:function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("srIe")),s=(r("6S2I"),r("zqDF"),r("WbKI")),a=r("r88o"),o=r("04ZG"),c=(r("4EHJ"),r("ju1D"),r("9AIY"),r("WZb1")),l=r("SuVq"),u=r("OvF4"),f=r("UhwK"),d=(r("4GrV"),r("jWBI")),h=r("8prj");let p=class extends h.default{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,t){(e||[]).forEach(e=>{this._decompressFeatureGeometry(e,t.summary.envelope.spatialReference)});const r=c.a.fromJSON(t.spatialReference);return e.map(e=>{const t=d.a.fromJSON(e);return t.geometry&&!(e.geometry&&e.geometry.spatialReference)&&(Object(i.o)(t.geometry).spatialReference=r),t.strings=e.strings,t.events=(e.events||[]).map(t=>{const r=new d.a({geometry:new l.a({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r}),t})}get mergedGeometry(){if(!this.features)return null;const e=this.features.map(({geometry:e})=>Object(i.o)(e)),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}get strings(){return this.features.map(({strings:e})=>e)}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,n=0,i=0,s=0;const a=[];let o,c,l,u,f,d,h,p,y=0,b=0,m=0;if(f=e.match(/((\+|\-)[^\+\-\|]+|\|)/g),f||(f=[]),0===parseInt(f[y],32)){y=2;const e=parseInt(f[y],32);y++,d=parseInt(f[y],32),y++,1&e&&(b=f.indexOf("|")+1,h=parseInt(f[b],32),b++),2&e&&(m=f.indexOf("|",b)+1,p=parseInt(f[m],32),m++)}else d=parseInt(f[y],32),y++;for(;y<f.length&&"|"!==f[y];){o=parseInt(f[y],32)+r,y++,r=o,c=parseInt(f[y],32)+n,y++,n=c;const e=[o/d,c/d];b&&(u=parseInt(f[b],32)+i,b++,i=u,e.push(u/h)),m&&(l=parseInt(f[m],32)+s,m++,s=l,e.push(l/p)),a.push(e)}return{paths:[a],hasZ:b>0,hasM:m>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach(e=>{e.paths.forEach(e=>{r=r.concat(e)})});const n=[];let i=[0,0];return r.forEach(e=>{e[0]===i[0]&&e[1]===i[1]||(n.push(e),i=e)}),new f.a({paths:[n]},t)}};Object(n.a)([Object(s.b)({type:u.a,json:{read:{source:"summary.envelope"}}})],p.prototype,"extent",void 0),Object(n.a)([Object(s.b)()],p.prototype,"features",void 0),Object(n.a)([Object(a.a)("features")],p.prototype,"readFeatures",null),Object(n.a)([Object(s.b)()],p.prototype,"geometryType",void 0),Object(n.a)([Object(s.b)({readOnly:!0})],p.prototype,"mergedGeometry",null),Object(n.a)([Object(s.b)()],p.prototype,"routeId",void 0),Object(n.a)([Object(s.b)()],p.prototype,"routeName",void 0),Object(n.a)([Object(s.b)({value:null,readOnly:!0})],p.prototype,"strings",null),Object(n.a)([Object(s.b)({json:{read:{source:"summary.totalDriveTime"}}})],p.prototype,"totalDriveTime",void 0),Object(n.a)([Object(s.b)({json:{read:{source:"summary.totalLength"}}})],p.prototype,"totalLength",void 0),Object(n.a)([Object(s.b)({json:{read:{source:"summary.totalTime"}}})],p.prototype,"totalTime",void 0),p=Object(n.a)([Object(o.a)("esri.tasks.support.DirectionsFeatureSet")],p),t.a=p},grla:function(e,t,r){"use strict";function n(e){switch(e){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:return}}function i(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function s(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function a(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return a}),r("wSAH")},hIOP:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r("HaE+"),i=r("wSAH"),s=r("srIe"),a=r("gvqN"),o=r("DxxZ"),c=r("6S2I");const l=r.e(153).then(r.bind(null,"zKxS"));class u{constructor(e,t){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._bitsets={computed:t.getBitset(t.createBitset())}}invalidate(){this._bitsets.computed.clear()}updateSchema(e,t){var r=this;return Object(n.a)(function*(){const n=Object(o.a)(r._schema,t);if(r._schema=t,!t||Object(s.h)(n)||!Object(o.b)(n,"attributes"))return;Object(i.a)("esri-2d-update-debug")&&console.debug("Applying Update - Store:",n),r._bitsets.computed.clear(),e.targets[t.name]=!0;const a=t.attributes,c=[],l=[];for(const e in a){const t=a[e];switch(t.type){case"field":break;case"expression":c.push(r._createArcadeComputedField(t));break;case"label-expression":c.push(r._createLabelArcadeComputedField(t));break;case"statistic":l.push(t)}}r._computedFields=yield Promise.all(c),r._canCacheExpressionValue=!r._computedFields.some(e=>"expression"===e.type&&e.expression.referencesScale()),r._statisticFields=l})()}setComputedAttributes(e,t,r,n){const i=this._bitsets.computed;if(!this._canCacheExpressionValue||!i.has(r)){i.set(r);for(const i of this._computedFields){const s=this._evaluateField(t,i,n);switch(i.resultType){case"numeric":e.setComputedNumericAtIndex(r,i.fieldIndex,s);break;case"string":e.setComputedStringAtIndex(r,i.fieldIndex,s)}}}}_createArcadeComputedField(e){var t=this;return Object(n.a)(function*(){const r=t._sourceInfo.spatialReference,n=t._sourceInfo.fieldsIndex;return{...e,expression:yield Object(a.d)(e.valueExpression,r,n)}})()}_createLabelArcadeComputedField(e){var t=this;return Object(n.a)(function*(){const r=t._sourceInfo.spatialReference,n=t._sourceInfo.fields,{createLabelFunction:i}=yield l,s=yield i(e.label,n,r);return{...e,builder:s}})()}_evaluateField(e,t,r){switch(t.type){case"label-expression":{const r=e.readArcadeFeature();return t.builder.evaluate(r)||""}case"expression":{const{expression:n}=t;return function(e,t,r){e.referencesGeometry();const n=t.readArcadeFeature();try{return e.evaluate({...r,$feature:n})}catch(i){return c.a.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",i),null}}(n,e,{$view:{scale:r}})}}}}},iUxC:function(e,t,r){"use strict";t.a=class{constructor(e,t,r){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=r}get width(){return this.pixelBlock?this.pixelBlock.width:0}get height(){return this.pixelBlock?this.pixelBlock.height:0}render(e){const t=this.pixelBlock;if(!t)return;const r=this.filter({pixelBlock:t}),n=r.pixelBlock.getAsRGBA(),i=e.createImageData(r.pixelBlock.width,r.pixelBlock.height);i.data.set(n),e.putImageData(i,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}},l5Tg:function(e,t,r){"use strict";r.d(t,"a",function(){return L}),r.d(t,"b",function(){return E}),r.d(t,"c",function(){return B}),r.d(t,"d",function(){return C}),r.d(t,"e",function(){return R}),r.d(t,"f",function(){return k}),r.d(t,"g",function(){return F}),r.d(t,"h",function(){return D}),r.d(t,"i",function(){return P}),r.d(t,"j",function(){return N}),r.d(t,"k",function(){return z}),r.d(t,"l",function(){return o}),r.d(t,"m",function(){return c}),r.d(t,"n",function(){return a}),r.d(t,"o",function(){return l}),r.d(t,"p",function(){return s}),r.d(t,"q",function(){return u}),r.d(t,"r",function(){return q}),r.d(t,"s",function(){return f}),r.d(t,"t",function(){return d}),r.d(t,"u",function(){return y}),r.d(t,"v",function(){return g}),r.d(t,"w",function(){return j}),r.d(t,"x",function(){return v}),r.d(t,"y",function(){return w}),r.d(t,"z",function(){return b}),r.d(t,"A",function(){return x}),r.d(t,"B",function(){return S}),r.d(t,"C",function(){return m}),r.d(t,"D",function(){return O}),r.d(t,"E",function(){return h}),r.d(t,"F",function(){return _}),r.d(t,"G",function(){return I}),r.d(t,"H",function(){return p}),r.d(t,"I",function(){return T}),r.d(t,"J",function(){return M}),r.d(t,"K",function(){return A});var n=r("9gar"),i=r("1kEK");function s(e){return n.a.extendedSpatialReferenceInfo(e)}function a(e,t,r){return n.a.clip(i.a,e,t,r)}function o(e,t,r){return n.a.cut(i.a,e,t,r)}function c(e,t,r){return n.a.contains(i.a,e,t,r)}function l(e,t,r){return n.a.crosses(i.a,e,t,r)}function u(e,t,r,s){return n.a.distance(i.a,e,t,r,s)}function f(e,t,r){return n.a.equals(i.a,e,t,r)}function d(e,t,r){return n.a.intersects(i.a,e,t,r)}function h(e,t,r){return n.a.touches(i.a,e,t,r)}function p(e,t,r){return n.a.within(i.a,e,t,r)}function y(e,t,r){return n.a.disjoint(i.a,e,t,r)}function b(e,t,r){return n.a.overlaps(i.a,e,t,r)}function m(e,t,r,s){return n.a.relate(i.a,e,t,r,s)}function g(e,t){return n.a.isSimple(i.a,e,t)}function O(e,t){return n.a.simplify(i.a,e,t)}function j(e,t,r=!1){return n.a.convexHull(i.a,e,t,r)}function v(e,t,r){return n.a.difference(i.a,e,t,r)}function w(e,t,r){return n.a.symmetricDifference(i.a,e,t,r)}function x(e,t,r){return n.a.intersect(i.a,e,t,r)}function _(e,t,r=null){return n.a.union(i.a,e,t,r)}function S(e,t,r,s,a,o,c){return n.a.offset(i.a,e,t,r,s,a,o,c)}function I(e,t,r,s,a=!1){return n.a.buffer(i.a,e,t,r,s,a)}function T(e,t,r,s,a,o,c){return n.a.geodesicBuffer(i.a,e,t,r,s,a,o,c)}function M(e,t,r,s=!0){return n.a.nearestCoordinate(i.a,e,t,r,s)}function A(e,t,r){return n.a.nearestVertex(i.a,e,t,r)}function L(e,t,r,s,a){return n.a.nearestVertices(i.a,e,t,r,s,a)}function E(e,t,r,i){if(null==t||null==i)throw new Error("Illegal Argument Exception");const s=n.a.rotate(t,r,i);return s.spatialReference=e,s}function B(e,t,r){if(null==t||null==r)throw new Error("Illegal Argument Exception");const i=n.a.flipHorizontal(t,r);return i.spatialReference=e,i}function C(e,t,r){if(null==t||null==r)throw new Error("Illegal Argument Exception");const i=n.a.flipVertical(t,r);return i.spatialReference=e,i}function R(e,t,r,s,a){return n.a.generalize(i.a,e,t,r,s,a)}function k(e,t,r,s){return n.a.densify(i.a,e,t,r,s)}function F(e,t,r,s,a=0){return n.a.geodesicDensify(i.a,e,t,r,s,a)}function D(e,t,r){return n.a.planarArea(i.a,e,t,r)}function P(e,t,r){return n.a.planarLength(i.a,e,t,r)}function N(e,t,r,s){return n.a.geodesicArea(i.a,e,t,r,s)}function z(e,t,r,s){return n.a.geodesicLength(i.a,e,t,r,s)}var q=Object.freeze({__proto__:null,extendedSpatialReferenceInfo:s,clip:a,cut:o,contains:c,crosses:l,distance:u,equals:f,intersects:d,touches:h,within:p,disjoint:y,overlaps:b,relate:m,isSimple:g,simplify:O,convexHull:j,difference:v,symmetricDifference:w,intersect:x,union:_,offset:S,buffer:I,geodesicBuffer:T,nearestCoordinate:M,nearestVertex:A,nearestVertices:L,rotate:E,flipHorizontal:B,flipVertical:C,generalize:R,densify:k,geodesicDensify:F,planarArea:D,planarLength:P,geodesicArea:N,geodesicLength:z})},llFo:function(e,t,r){"use strict";r.d(t,"a",function(){return S});var n,i=r("HaE+"),s=r("pO5D"),a=(r("wSAH"),r("6S2I")),o=r("WbKI"),c=r("Gj5k"),l=r("04ZG"),u=r("zlDU"),f=r("4EHJ"),d=(r("ju1D"),r("9AIY"),r("ikTR")),h=r("9MzC"),p=r("WBXD"),y=r("/CmD"),b=r("Lqtk"),m=r("r0DZ"),g=r("N5XI"),O=r("wk6I"),j=r("f/qv"),v=r("tQ+6");class w{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;const r=(e-this.location.top)*this.location.width+(t-this.location.left),n=r>>3,i=this._tileAvailabilityBitSet;return n<0||n>i.length?"unknown":i[n]&1<<r%8?"available":"unavailable"}_updateFromData(e){let t=!0,r=!0;const n=Math.ceil(this.location.width*this.location.height/8),i=new Uint8Array(n);let s=0;for(let a=0;a<e.length;a++){const n=a%8;e[a]?(r=!1,i[s]|=1<<n):t=!1,7===n&&++s}r?this._allAvailability="unavailable":t?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=i,this.byteSize+=i.length)}static fromDefinition(e,t){const r=e.service.request||b.default,{row:n,col:i,width:s,height:a}=e,o={query:{f:"json"}};return t=t?{...o,...t}:o,r(function(e){let t;if("vector-tile"===e.service.type)t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;else{const r=e.service.tileServers;t=`${r&&r.length?r[e.row%r.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}const r=e.service.query;return r&&(t=`${t}?${r}`),t}(e),t).then(e=>e.data).catch(e=>{if(e&&e.details&&422===e.details.httpStatus)return{location:{top:n,left:i,width:s,height:a},valid:!0,data:Object(v.b)(s*a,0)};throw e}).then(e=>{if(e.location&&(e.location.top!==n||e.location.left!==i||e.location.width!==s||e.location.height!==a))throw new u.a("tilemap:location-mismatch","Tilemap response for different location than requested",{response:e,definition:{top:n,left:i,width:s,height:a}});return w.fromJSON(e)})}static fromJSON(e){w.validateJSON(e);const t=new w;return t.location=Object.freeze(Object(j.a)(e.location)),t._updateFromData(e.data),Object.freeze(t)}static validateJSON(e){if(!e||!e.location)throw new u.a("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new u.a("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new u.a("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new u.a("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new u.a("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function x(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}const _=a.a.getLogger("esri.layers.support.TilemapCache");let S=n=class extends y.a{constructor(e){super(e),this._handles=new m.a,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=b.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new O.a(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],()=>this._initializeTilemapDefinition()),Object(g.a)(this,"layer.tileInfo.lods",e=>this._initializeAvailableLevels(e),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(e){return e<=2?(_.error("Minimum levels for Tilemap is 3, but got ",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,r,n){if(!this._availableLevels[e])return Promise.reject(new u.a("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const i=this._tmpTilemapDefinition,s=this._tilemapFromCache(e,t,r,i);if(s)return Promise.resolve(s);const a=n&&n.signal;return n={...n,signal:null},new Promise((e,t)=>{Object(h.p)(a,()=>t(Object(h.e)()));const r=x(i);let s=this._pendingTilemapRequests[r];if(!s){s=w.fromDefinition(i,n).then(e=>(this._tilemapCache.put(r,e,e.byteSize),e));const e=()=>delete this._pendingTilemapRequests[r];this._pendingTilemapRequests[r]=s,s.then(e,e)}s.then(e,t)})}getAvailability(e,t,r){if(!this._availableLevels[e])return"unavailable";const n=this._tilemapFromCache(e,t,r,this._tmpTilemapDefinition);return n?n.getAvailability(t,r):"unknown"}getAvailabilityUpsample(e,t,r,n){n.level=e,n.row=t,n.col=r;const i=this.layer.tileInfo;for(i.updateTileInfo(n);;){const e=this.getAvailability(n.level,n.row,n.col);if("unavailable"!==e)return e;if(!i.upsampleTile(n))return"unavailable"}}fetchAvailability(e,t,r,n){return this._availableLevels[e]?this.fetchTilemap(e,t,r,n).catch(e=>e).then(n=>{if(n instanceof w){const i=n.getAvailability(t,r);return"unavailable"===i?Promise.reject(new u.a("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r})):i}if(Object(h.m)(n))throw n;return"unknown"}):Promise.reject(new u.a("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,r,n,i){n.level=e,n.row=t,n.col=r;const s=this.layer.tileInfo;s.updateTileInfo(n);const a=this.fetchAvailability(e,t,r,i).catch(e=>{if(Object(h.m)(e))throw e;if(s.upsampleTile(n))return this.fetchAvailabilityUpsample(n.level,n.row,n.col,n);throw e});return this._fetchAvailabilityUpsamplePrefetch(n.id,e,t,r,i,a),a}_fetchAvailabilityUpsamplePrefetch(e,t,r,s,a,o){var c=this;return Object(i.a)(function*(){if(!c._prefetchingEnabled)return;const i=`prefetch-${e}`;if(c._handles.has(i))return;const l=Object(h.d)();o.then(()=>l.abort(),()=>l.abort());let u=!1;if(c._handles.add({remove(){u||(u=!0,l.abort())}},i),yield Object(p.c)(10,l.signal).catch(()=>{}),u||(u=!0,c._handles.remove(i)),Object(h.n)(l))return;const f={id:e,level:t,row:r,col:s},d={...a,signal:l.signal},y=c.layer.tileInfo;for(let e=0;n._prefetches.length<n._maxPrefetch&&y.upsampleTile(f);++e){const e=c.fetchAvailability(f.level,f.row,f.col,d);n._prefetches.push(e);const t=()=>{n._prefetches.removeUnordered(e)};e.then(t,t)}})()}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?Object(f.D)(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,r,n){n.level=e,n.row=t-t%this.size,n.col=r-r%this.size;const i=x(n);return this._tilemapCache.get(i)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach(e=>this._availableLevels[e.level]=!0)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,r,n)=>!!e._tilemapFromCache(t,r,n,e._tmpTilemapDefinition)}}};S._maxPrefetch=4,S._prefetches=new d.a({initialSize:n._maxPrefetch}),Object(s.a)([Object(o.b)({constructOnly:!0,type:Number})],S.prototype,"levels",void 0),Object(s.a)([Object(c.a)("levels")],S.prototype,"castLevels",null),Object(s.a)([Object(o.b)({readOnly:!0,type:Number})],S.prototype,"size",null),Object(s.a)([Object(o.b)({constructOnly:!0,type:Number})],S.prototype,"cacheByteSize",void 0),Object(s.a)([Object(o.b)({constructOnly:!0})],S.prototype,"layer",void 0),Object(s.a)([Object(o.b)({constructOnly:!0})],S.prototype,"request",void 0),S=n=Object(s.a)([Object(l.a)("esri.layers.support.TilemapCache")],S)},lx5q:function(e,t,r){"use strict";var n=r("srIe");t.a=class{constructor(e=Number.POSITIVE_INFINITY){this.size=0,this._start=0,this.maxSize=e,this._buffer=isFinite(e)?new Array(e):[]}get entries(){return this._buffer}enqueue(e){if(this.size===this.maxSize){const t=this._buffer[this._start];return this._buffer[this._start]=e,this._start=(this._start+1)%this.maxSize,t}return isFinite(this.maxSize)?this._buffer[(this._start+this.size++)%this.maxSize]=e:this._buffer[this._start+this.size++]=e,null}dequeue(){if(0===this.size)return null;const e=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,e}peek(){return 0===this.size?null:this._buffer[this._start]}find(e){if(0===this.size)return null;for(const t of this._buffer)if(Object(n.i)(t)&&e(t))return t;return null}clear(e){let t=this.dequeue();for(;Object(n.i)(t);)e&&e(t),t=this.dequeue()}}},ncPp:function(e,t,r){"use strict";r.r(t);var n=r("pO5D"),i=(r("wSAH"),r("s7YA")),s=(r("6S2I"),r("zqDF"),r("WbKI")),a=r("r88o"),o=r("04ZG"),c=r("Cduq"),l=r("zlDU"),u=r("4EHJ"),f=(r("ju1D"),r("9AIY"),r("WZb1")),d=r("SuVq"),h=r("OvF4"),p=(r("4GrV"),r("Lqtk")),y=r("pqNC"),b=r("5pQd"),m=r("uRH/"),g=r("mXvl"),O=r("DbUH"),j=r("jhcG"),v=r("WmKv"),w=r("UOZ4"),x=r("3/ME"),_=r("OYGz");let S=class extends(Object(g.a)(Object(j.a)(Object(v.a)(Object(m.a)(Object(O.a)(Object(b.a)(y.a))))))){constructor(...e){super(...e),this.copyright="",this.fullExtent=new h.a(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,f.a.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=f.a.WebMercator,this.subDomains=null,this.tileInfo=new x.a({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new d.a({x:-20037508.342787,y:20037508.342787,spatialReference:f.a.WebMercator}),spatialReference:f.a.WebMercator,lods:[new w.a({level:0,scale:591657527.591555,resolution:156543.033928}),new w.a({level:1,scale:295828763.795777,resolution:78271.5169639999}),new w.a({level:2,scale:147914381.897889,resolution:39135.7584820001}),new w.a({level:3,scale:73957190.948944,resolution:19567.8792409999}),new w.a({level:4,scale:36978595.474472,resolution:9783.93962049996}),new w.a({level:5,scale:18489297.737236,resolution:4891.96981024998}),new w.a({level:6,scale:9244648.868618,resolution:2445.98490512499}),new w.a({level:7,scale:4622324.434309,resolution:1222.99245256249}),new w.a({level:8,scale:2311162.217155,resolution:611.49622628138}),new w.a({level:9,scale:1155581.108577,resolution:305.748113140558}),new w.a({level:10,scale:577790.554289,resolution:152.874056570411}),new w.a({level:11,scale:288895.277144,resolution:76.4370282850732}),new w.a({level:12,scale:144447.638572,resolution:38.2185141425366}),new w.a({level:13,scale:72223.819286,resolution:19.1092570712683}),new w.a({level:14,scale:36111.909643,resolution:9.55462853563415}),new w.a({level:15,scale:18055.954822,resolution:4.77731426794937}),new w.a({level:16,scale:9027.977411,resolution:2.38865713397468}),new w.a({level:17,scale:4513.988705,resolution:1.19432856685505}),new w.a({level:18,scale:2256.994353,resolution:.597164283559817}),new w.a({level:19,scale:1128.497176,resolution:.298582141647617})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(e,t){return"string"==typeof e?{urlTemplate:e,...t}:e}load(e){const t=this.loadFromPortal({supportedTypes:["WMTS"]},e).then(()=>{let e="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const t=new u.a(this.urlTemplate);this.subDomains&&this.subDomains.length>0||-1===t.authority.indexOf("{subDomain}")||(e="is missing 'subDomains' property")}else e="spatialReference must match tileInfo.spatialReference";else e="is missing the required 'urlTemplate' property value";if(e)throw new l.a("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${e}`)});return this.addResolvingPromise(t),Promise.resolve(this)}get levelValues(){const e=[];if(!this.tileInfo)return null;for(const t of this.tileInfo.lods)e[t.level]=t.levelValue||t.level;return e}readSpatialReference(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&f.a.fromJSON(t.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const e=[],{urlTemplate:t,subDomains:r}=this,n=new u.a(t),i=n.scheme?n.scheme+"://":"//",s=i+n.authority+"/";if(-1===n.authority.indexOf("{subDomain}"))e.push(s);else if(r&&r.length>0&&n.authority.split(".").length>1)for(const a of r)e.push(i+n.authority.replace(/\{subDomain\}/gi,a)+"/");return e.map(e=>("/"!==e.charAt(e.length-1)&&(e+="/"),e))}get urlPath(){if(!this.urlTemplate)return null;const e=this.urlTemplate,t=new u.a(e);return e.substring(((t.scheme?t.scheme+"://":"//")+t.authority+"/").length)}readUrlTemplate(e,t){return e||t.templateUrl}writeUrlTemplate(e,t){e&&Object(u.v)(e)&&(e="https:"+e),e&&(e=e.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),e=Object(u.C)(e)),t.templateUrl=e}fetchTile(e,t,r,n={}){const{signal:i,timestamp:s}=n,a=this.getTileUrl(e,t,r),o={responseType:"image",signal:i};return null!=s&&(o.query={_ts:n.timestamp}),Object(p.default)(a,o).then(e=>e.data)}getTileUrl(e,t,r){const n=this.levelValues[e];return this.tileServers[t%this.tileServers.length]+Object(i.c)(this.urlPath,{level:n,z:n,col:r,x:r,row:t,y:t})}};Object(n.a)([Object(s.b)({type:String,value:"",json:{write:!0}})],S.prototype,"copyright",void 0),Object(n.a)([Object(s.b)({type:h.a,json:{write:!0}})],S.prototype,"fullExtent",void 0),Object(n.a)([Object(s.b)({readOnly:!0,json:{read:!1,write:!1}})],S.prototype,"legendEnabled",void 0),Object(n.a)([Object(s.b)({type:["show","hide"]})],S.prototype,"listMode",void 0),Object(n.a)([Object(s.b)()],S.prototype,"levelValues",null),Object(n.a)([Object(s.b)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],S.prototype,"isReference",void 0),Object(n.a)([Object(s.b)({type:["WebTiledLayer"],value:"WebTiledLayer"})],S.prototype,"operationalLayerType",void 0),Object(n.a)([Object(s.b)({readOnly:!0,json:{read:!1,write:!1}})],S.prototype,"popupEnabled",void 0),Object(n.a)([Object(s.b)({type:f.a})],S.prototype,"spatialReference",void 0),Object(n.a)([Object(a.a)("spatialReference",["spatialReference","fullExtent.spatialReference"])],S.prototype,"readSpatialReference",null),Object(n.a)([Object(s.b)({type:[String],json:{write:!0}})],S.prototype,"subDomains",void 0),Object(n.a)([Object(s.b)({type:x.a,json:{write:!0}})],S.prototype,"tileInfo",void 0),Object(n.a)([Object(s.b)({readOnly:!0})],S.prototype,"tileServers",null),Object(n.a)([Object(s.b)({json:{read:!1}})],S.prototype,"type",void 0),Object(n.a)([Object(s.b)()],S.prototype,"urlPath",null),Object(n.a)([Object(s.b)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],S.prototype,"urlTemplate",void 0),Object(n.a)([Object(a.a)("urlTemplate",["urlTemplate","templateUrl"])],S.prototype,"readUrlTemplate",null),Object(n.a)([Object(c.a)("urlTemplate",{templateUrl:{type:String}})],S.prototype,"writeUrlTemplate",null),Object(n.a)([Object(s.b)({type:_.a,json:{write:!0}})],S.prototype,"wmtsInfo",void 0),S=Object(n.a)([Object(o.a)("esri.layers.WebTileLayer")],S),t.default=S},o6Le:function(e,t,r){"use strict";r.d(t,"a",function(){return i});class n{constructor(e={}){this._options=e}toQueryParams(e){if(!e)return null;const t=e.toJSON(),r={};return Object.keys(t).forEach(e=>{const n=this._options[e];if(n){const i="boolean"!=typeof n&&n.name?n.name:e,s="boolean"!=typeof n&&n.getter?n.getter(t):t[e];null!=s&&(r[i]=(e=>{if(!Array.isArray(e))return!1;const[t]=e;return"number"==typeof t||"string"==typeof t})(s)?s.join(","):"object"==typeof s?JSON.stringify(s):s)}else r[e]=t[e]},this),r}}function i(e){return new n(e)}},oLSx:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r("HaE+");const i={BingMapsLayer:(A=Object(n.a)(function*(){return(yield r.e(133).then(r.bind(null,"CR/Q"))).default}),function(){return A.apply(this,arguments)}),BuildingSceneLayer:(M=Object(n.a)(function*(){return(yield Promise.all([r.e(32),r.e(134)]).then(r.bind(null,"TWTt"))).default}),function(){return M.apply(this,arguments)}),CSVLayer:(T=Object(n.a)(function*(){return(yield r.e(135).then(r.bind(null,"Kn0e"))).default}),function(){return T.apply(this,arguments)}),ElevationLayer:(I=Object(n.a)(function*(){return(yield Promise.all([r.e(0),r.e(34)]).then(r.bind(null,"8g7C"))).default}),function(){return I.apply(this,arguments)}),FeatureLayer:(S=Object(n.a)(function*(){return(yield Promise.resolve().then(r.bind(null,"W9Wu"))).default}),function(){return S.apply(this,arguments)}),GroupLayer:(_=Object(n.a)(function*(){return(yield r.e(35).then(r.bind(null,"VPx4"))).default}),function(){return _.apply(this,arguments)}),GeoRSSLayer:(x=Object(n.a)(function*(){return(yield r.e(136).then(r.bind(null,"AP+b"))).default}),function(){return x.apply(this,arguments)}),ImageryLayer:(w=Object(n.a)(function*(){return(yield Promise.all([r.e(18),r.e(29),r.e(137)]).then(r.bind(null,"/GVf"))).default}),function(){return w.apply(this,arguments)}),ImageryTileLayer:(v=Object(n.a)(function*(){return(yield Promise.all([r.e(18),r.e(29),r.e(0),r.e(138)]).then(r.bind(null,"mRf7"))).default}),function(){return v.apply(this,arguments)}),IntegratedMeshLayer:(j=Object(n.a)(function*(){return(yield r.e(50).then(r.bind(null,"yvy3"))).default}),function(){return j.apply(this,arguments)}),KMLLayer:(O=Object(n.a)(function*(){return(yield Promise.all([r.e(0),r.e(119)]).then(r.bind(null,"9fxc"))).default}),function(){return O.apply(this,arguments)}),MapImageLayer:(g=Object(n.a)(function*(){return(yield Promise.all([r.e(21),r.e(0),r.e(36)]).then(r.bind(null,"U/i9"))).default}),function(){return g.apply(this,arguments)}),MapNotesLayer:(m=Object(n.a)(function*(){return(yield Promise.all([r.e(0),r.e(139)]).then(r.bind(null,"Wvof"))).default}),function(){return m.apply(this,arguments)}),OpenStreetMapLayer:(b=Object(n.a)(function*(){return(yield Promise.all([r.e(0),r.e(140)]).then(r.bind(null,"jFi3"))).default}),function(){return b.apply(this,arguments)}),PointCloudLayer:(y=Object(n.a)(function*(){return(yield Promise.all([r.e(0),r.e(53)]).then(r.bind(null,"RLtZ"))).default}),function(){return y.apply(this,arguments)}),RouteLayer:(p=Object(n.a)(function*(){return(yield r.e(141).then(r.bind(null,"soW6"))).default}),function(){return p.apply(this,arguments)}),SceneLayer:(h=Object(n.a)(function*(){return(yield Promise.all([r.e(32),r.e(142)]).then(r.bind(null,"0yFX"))).default}),function(){return h.apply(this,arguments)}),StreamLayer:(d=Object(n.a)(function*(){return(yield r.e(143).then(r.bind(null,"u6iX"))).default}),function(){return d.apply(this,arguments)}),TileLayer:(f=Object(n.a)(function*(){return(yield Promise.all([r.e(21),r.e(0),r.e(144)]).then(r.bind(null,"JlDE"))).default}),function(){return f.apply(this,arguments)}),UnknownLayer:(u=Object(n.a)(function*(){return(yield r.e(145).then(r.bind(null,"qcqe"))).default}),function(){return u.apply(this,arguments)}),UnsupportedLayer:(l=Object(n.a)(function*(){return(yield r.e(146).then(r.bind(null,"GN2T"))).default}),function(){return l.apply(this,arguments)}),VectorTileLayer:(c=Object(n.a)(function*(){return(yield Promise.all([r.e(22),r.e(0),r.e(60)]).then(r.bind(null,"FzwJ"))).default}),function(){return c.apply(this,arguments)}),WebTileLayer:(o=Object(n.a)(function*(){return(yield r.e(0).then(r.bind(null,"ncPp"))).default}),function(){return o.apply(this,arguments)}),WMSLayer:(a=Object(n.a)(function*(){return(yield Promise.all([r.e(0),r.e(147)]).then(r.bind(null,"h2Da"))).default}),function(){return a.apply(this,arguments)}),WMTSLayer:(s=Object(n.a)(function*(){return(yield Promise.all([r.e(0),r.e(148)]).then(r.bind(null,"sDlQ"))).default}),function(){return s.apply(this,arguments)})};var s,a,o,c,l,u,f,d,h,p,y,b,m,g,O,j,v,w,x,_,S,I,T,M,A},ofcG:function(e,t,r){"use strict";var n,i=r("pO5D"),s=(r("wSAH"),r("f/qv")),a=(r("6S2I"),r("zqDF")),o=r("WbKI"),c=r("RI0u"),l=r("04ZG"),u=(r("4EHJ"),r("ju1D"),r("9AIY"),r("dzHX")),f=r("1hFN"),d=r("ag7Y"),h=r("nvBr");let p=n=class extends d.a{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new n({description:this.description,label:this.label,values:Object(s.a)(this.values),color:Object(s.a)(this.color)})}};Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"description",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"label",void 0),Object(i.a)([Object(o.b)({type:[String],json:{write:!0}})],p.prototype,"values",void 0),Object(i.a)([Object(o.b)({type:h.a,json:{type:[a.a],write:!0}})],p.prototype,"color",void 0),p=n=Object(i.a)([Object(l.a)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],p);var y,b=p;let m=y=class extends u.a{constructor(e){super(e),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new y({...this.cloneProperties(),field:Object(s.a)(this.field),fieldTransformType:Object(s.a)(this.fieldTransformType),colorUniqueValueInfos:Object(s.a)(this.colorUniqueValueInfos),legendOptions:Object(s.a)(this.legendOptions)})}};Object(i.a)([Object(c.a)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],m.prototype,"type",void 0),Object(i.a)([Object(o.b)({json:{write:!0},type:String})],m.prototype,"field",void 0),Object(i.a)([Object(o.b)({type:u.a.fieldTransformTypeKebabDict.apiValues,json:{type:u.a.fieldTransformTypeKebabDict.jsonValues,read:u.a.fieldTransformTypeKebabDict.read,write:u.a.fieldTransformTypeKebabDict.write}})],m.prototype,"fieldTransformType",void 0),Object(i.a)([Object(o.b)({type:[b],json:{write:!0}})],m.prototype,"colorUniqueValueInfos",void 0),Object(i.a)([Object(o.b)({type:f.a,json:{write:!0}})],m.prototype,"legendOptions",void 0),m=y=Object(i.a)([Object(l.a)("esri.renderers.PointCloudUniqueValueRenderer")],m),t.a=m},p0UO:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return n});const n=1;function i(e,t){let r=0;for(const i of t){var n;const t=null==(n=i.attributes)?void 0:n[e];"number"==typeof t&&isFinite(t)&&(r=Math.max(r,t))}return r}},q03O:function(e,t,r){"use strict";var n=r("yE7X"),i=r("kvL/");t.a=class extends i.a{renderChildren(e){this.attributeView.bindTextures(e.context),this.children.some(e=>e.hasData)&&(super.renderChildren(e),e.drawPhase===n.c.MAP&&this._renderChildren(e),e.drawPhase===n.c.HIGHLIGHT&&this._renderHighlight(e))}_renderHighlight(e){const{painter:t}=e,r=t.effects.highlight;r.bind(e),this._renderChildren(e,r.defines),r.draw(e),r.unbind()}}},q2iW:function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return i});var n=r("3/ME");const i={type:n.a,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:s}}}}};function s(e,t,r,i){if(!e)return null;const{minScale:s,maxScale:a,minLOD:o,maxLOD:c}=t;if(null!=o&&null!=c)return n.a.fromJSON(i&&i.ignoreMinMaxLOD?e:{...e,lods:e.lods.filter(({level:e})=>null!=e&&e>=o&&e<=c)});if(0!==s&&0!==a){const t=e=>Math.round(1e4*e)/1e4,r=s?t(s):1/0,i=a?t(a):-1/0;return n.a.fromJSON({...e,lods:e.lods.filter(e=>{const n=t(e.scale);return n<=r&&n>=i})})}return n.a.fromJSON(e)}},sTkM:function(e,t,r){"use strict";function n(){return[0,0,0,1]}function i(e,t){return new Float64Array(e,t,4)}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1],e[2],e[3]]},fromValues:function(e,t,r,n){return[e,t,r,n]},createView:i,IDENTITY:[0,0,0,1]})},tIWS:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("r88o"),a=r("04ZG"),o=(r("4EHJ"),r("ju1D"),r("9AIY"),r("WZb1")),c=(r("4GrV"),r("q2iW")),l=r("llFo");const u=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}readMaxScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,t){return t.capabilities&&t.capabilities.indexOf("Tilemap")>-1?new l.a({layer:this}):null}};return Object(n.a)([Object(i.b)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(n.a)([Object(i.b)()],t.prototype,"minScale",void 0),Object(n.a)([Object(s.a)("service","minScale")],t.prototype,"readMinScale",null),Object(n.a)([Object(i.b)()],t.prototype,"maxScale",void 0),Object(n.a)([Object(s.a)("service","maxScale")],t.prototype,"readMaxScale",null),Object(n.a)([Object(i.b)({type:o.a})],t.prototype,"spatialReference",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],t.prototype,"supportsBlankTile",null),Object(n.a)([Object(i.b)(c.b)],t.prototype,"tileInfo",void 0),Object(n.a)([Object(i.b)()],t.prototype,"tilemapCache",void 0),Object(n.a)([Object(s.a)("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),Object(n.a)([Object(i.b)()],t.prototype,"version",void 0),t=Object(n.a)([Object(a.a)("esri.layers.mixins.ArcGISCachedService")],t),t}},tODX:function(e,t,r){"use strict";r.d(t,"a",function(){return w}),r.d(t,"b",function(){return y}),r.d(t,"c",function(){return j}),r.d(t,"d",function(){return h}),r.d(t,"e",function(){return O}),r.d(t,"f",function(){return g}),r.d(t,"g",function(){return b}),r.d(t,"h",function(){return v});var n=r("HaE+"),i=r("zlDU"),s=r("f4Nx"),a=r("l4ZG"),o=r("SuVq"),c=r("OvF4"),l=(r("4GrV"),r("gEht")),u=r("gYg2");const f=5e-4,d=function(e,t){const r=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||r)};function h(){return p.apply(this,arguments)}function p(){return(p=Object(n.a)(function*(){if(Object(u.d)()||!Object(u.e)())return null;yield Object(u.f)()})).apply(this,arguments)}function y(e,t,r){if(!d(e.spatialReference,t))return null;if(!Object(u.d)())throw new i.a("rasterprojectionhelper-projectResolution","projection engine is not loaded");return r?Object(u.b)(t,e.spatialReference,e):Object(u.b)(e.spatialReference,t,e)}function b(e,t,r,n=null){if(e.spatialReference.equals(t))return e;const s=d(e.spatialReference,t);if(s&&!Object(u.d)())throw new i.a("rasterprojectionhelper-projectResolution","projection engine is not loaded");const o=r.center,l=new c.a({xmin:o.x-e.x/2,xmax:o.x+e.x/2,ymin:o.y-e.y/2,ymax:o.y+e.y/2,spatialReference:e.spatialReference}),f=s?Object(u.g)(l,t,n):Object(a.d)(l,t);return null==f?null:{x:f.xmax-f.xmin,y:f.ymax-f.ymin}}function m(e,t=.01){return Object(l.d)(e)?t/Object(l.d)(e):0}function g(e,t,r=null,n=!0){const o=e.spatialReference;if(o.equals(t))return e;const c=d(o,t);if(c&&!Object(u.d)())throw new i.a("rasterprojectionhelper-projectResolution","projection engine is not loaded");const l=c?Object(u.g)(e,t,r):Object(a.d)(e,t);if(l&&n&&t.isGeographic){var h,p;const[t,r]=o.isWebMercator?Object(s.d)(o).origin:null!=(h=null==(p=Object(s.d)(o))?void 0:p.valid)?h:[],n=m(o);n&&null!=t&&null!=r&&(Math.abs(e.x-t)<n&&Math.abs(180-l.x)<f?l.x-=360:Math.abs(e.x-r)<n&&Math.abs(180+l.x)<f&&(l.x+=360))}return l}function O(e,t,r=null,n=!0){var c,l,h,p;const y=e.spatialReference;if(y.equals(t))return e;const b=d(y,t);if(b&&!Object(u.d)())throw new i.a("rasterprojectionhelper-projectExtent","projection engine is not loaded");const O=b?Object(u.g)(e,t,r):Object(a.d)(e,t);let[j,v]=null!=(c=null==(l=Object(s.d)(y))?void 0:l.origin)?c:[];if(O&&n&&y.isWebMercator&&t.isGeographic&&null!=j&&null!=v){const n=.001,i=1e3;if(Math.abs(e.xmin-j)<n&&Math.abs(v-e.xmax)>i&&Math.abs(180-O.xmax)<f){O.xmin=-180;const n=[];n.push(new o.a(e.xmax,e.ymin,y)),n.push(new o.a(e.xmax,(e.ymin+e.ymax)/2,y)),n.push(new o.a(e.xmax,e.ymax,y));const i=n.map(e=>g(e,t,r)).filter(e=>!isNaN(null==e?void 0:e.x)).map(e=>e.x);O.xmax=Math.max.apply(null,i)}if(Math.abs(e.xmax-v)<n&&Math.abs(j-e.xmin)>i&&Math.abs(180+O.xmin)<f){O.xmax=180;const n=[];n.push(new o.a(e.xmin,e.ymin,y)),n.push(new o.a(e.xmin,(e.ymin+e.ymax)/2,y)),n.push(new o.a(e.xmin,e.ymax,y));const i=n.map(e=>g(e,t,r)).filter(e=>!isNaN(null==e?void 0:e.x)).map(e=>e.x);O.xmin=Math.min.apply(null,i)}}[j,v]=t.isWebMercator?Object(s.d)(t).origin:null!=(h=null==(p=Object(s.d)(t))?void 0:p.valid)?h:[];const w=m(t);return w&&null!=j&&null!=v&&(Math.abs(O.xmin-j)<w&&(O.xmin=j),Math.abs(O.xmax-v)<w&&(O.xmax=v)),O}function j(e,t,r,n=null,a=null,c=!1,l=[32,32]){var f,h;if(d(e.spatialReference,t.spatialReference)&&!Object(u.d)())throw new i.a("rasterprojectionhelper-projectResolution","projection engine is not loaded");if(!(e&&t&&r))return null;const{xmin:p,ymin:y,xmax:b,ymax:m}=e,O=e.spatialReference,j=t.spatialReference,[v,w]=null!=(f=null==(h=Object(s.d)(O))?void 0:h.valid)?f:[],x={x:l[0]*r.x,y:l[1]*r.y},_={cols:Math.ceil((b-p)/x.x-.1)+1,rows:Math.ceil((m-y)/x.y-.1)+1},S=x.x,I=x.y,T=[];let M,A=!1;for(let i=0;i<_.cols;i++){const e=[];for(let r=0;r<_.rows;r++){let s=g(new o.a({x:p+S*i,y:m-I*r,spatialReference:O}),j,n);a&&(s=a.inverseTransform(s)),e.push(s),i>0&&c&&s&&M[r]&&null!=v&&s.x<M[r].x&&(s.x+=w-v),s?(T.push((s.x-t.xmin)/(t.xmax-t.xmin)),T.push((t.ymax-s.y)/(t.ymax-t.ymin))):(T.push(NaN),T.push(NaN),A=!0)}M=e}const L=function(e,t){const r=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs((e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4-e[2*t.rows+2]),Math.abs(r-e[2*t.rows+3])]}(T,_),E=new Float32Array((_.cols-1)*(_.rows-1)*2*6),B=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),C=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let i=0;i<_.cols-1;i++){for(let e=0;e<_.rows-1;e++){let t=i*_.rows*2+2*e;const r=T[t],n=T[t+1],s=T[t+2],a=T[t+3];t+=2*_.rows;const o=T[t],c=T[t+1],l=T[t+2],u=T[t+3];let f=0,d=12*(e*(_.cols-1)+i);for(let e=0;e<3;e++)E[d++]=B[f++]*r+B[f++]*s+B[f++]*l;f=0;for(let e=0;e<3;e++)E[d++]=B[f++]*n+B[f++]*a+B[f++]*u;f=0;for(let e=0;e<3;e++)E[d++]=C[f++]*r+C[f++]*o+C[f++]*l;f=0;for(let e=0;e<3;e++)E[d++]=C[f++]*n+C[f++]*c+C[f++]*u}if(A)for(let e=0;e<E.length;e++)isNaN(E[e])&&(E[e]=-1)}return{offsets:T,error:L,coefficients:E,spacing:l,size:[_.cols-1,_.rows-1]}}function v(e,t,r){const n=Math.log(e.x/t.pixelSize.x)/Math.LN2,i=Math.log(e.y/t.pixelSize.y)/Math.LN2,s=t.storageInfo.maximumPyramidLevel||0;let a="down"===r?Math.floor(Math.min(n,i)):"up"===r?Math.ceil(Math.max(n,i)):Math.round((n+i)/2),c=!1;a<0?a=0:a>s&&(c=a>s+3,a=s);const l=2**a;return{pyramidLevel:a,pyramidResolution:new o.a({x:l*t.nativePixelSize.x,y:l*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:c}}function w(e,t,r=512,n=!0){const{extent:i,spatialReference:s,pixelSize:a}=e,c=b(new o.a({x:a.x,y:a.y,spatialReference:s}),t,i);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const u=(c.x+c.y)/2,f=Object(l.d)(t),d=u*f*96*39.37,h=t.isGeographic?512/r*295828763.7958547:512/r*591657527.591555;let p=!1;const y=O(i,t);n&&(t.isGeographic||t.isWebMercator)&&(p=y.xmin*y.xmax<0);let m,g=d;const j=1.001;if(p){g=h;const e=.29858214164761665,t=e*(96*f*39.37);m=b(new o.a({x:e,y:e,spatialReference:{wkid:3857}}),s,y),m.x*=g/t,m.y*=g/t}else{m={x:a.x,y:a.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let r=0;for(;g<h*(j/2)&&r<t;)r++,g*=2,m.x*=2,m.y*=2;Math.max(g,h)/Math.min(g,h)<=j&&(g=h)}const v=[g],w=[{x:m.x,y:m.y}],x=Math.min(70.5310735,d)/j;for(;g>=x;)g/=2,m.x/=2,m.y/=2,v.push(g),w.push({x:m.x,y:m.y});return{projectedPixelSize:c,scales:v,srcResolutions:w,isCustomTilingScheme:!p}}},uAeW:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("04ZG"),a=(r("4EHJ"),r("ju1D"),r("9AIY"),r("/CmD")),o=r("kJYu");const c={visible:"visibleSublayers"};let l=class extends(Object(o.b)(a.a)){constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),e.on("wms-sublayer-update",e=>this.notifyChange(c[e.propertyName]))],"layer"))}get layers(){const{visibleSublayers:e}=this;return e.filter(e=>e.name).map(e=>e.name).join(",")}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:t}=this,r=null==e?void 0:e.sublayers,n=[],i=e=>{const{minScale:r,maxScale:s,sublayers:a,visible:o}=e;o&&(0===t||(0===r||t<=r)&&(0===s||t>=s))&&(a?a.forEach(i):n.unshift(e))};return null==r||r.forEach(i),n}toJSON(){const{layer:e,layers:t}=this,{imageFormat:r,imageTransparency:n,version:i}=e;return{format:r,request:"GetMap",service:"WMS",styles:"",transparent:n,version:i,layers:t}}};Object(n.a)([Object(i.b)()],l.prototype,"layer",null),Object(n.a)([Object(i.b)({readOnly:!0})],l.prototype,"layers",null),Object(n.a)([Object(i.b)({type:Number})],l.prototype,"scale",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],l.prototype,"version",null),Object(n.a)([Object(i.b)({readOnly:!0})],l.prototype,"visibleSublayers",null),l=Object(n.a)([Object(s.a)("esri.layers.support.ExportWMSImageParameters")],l)},ukaK:function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),s=r("04ZG"),a=(r("4EHJ"),r("ju1D"),r("9AIY"),r("kJYu"));let o=class extends a.a{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null}};Object(n.a)([Object(i.b)({readOnly:!0})],o.prototype,"supportsTileUpdates",null),Object(n.a)([Object(i.b)({constructOnly:!0})],o.prototype,"remoteClient",void 0),Object(n.a)([Object(i.b)({constructOnly:!0})],o.prototype,"service",void 0),Object(n.a)([Object(i.b)()],o.prototype,"spatialReference",null),Object(n.a)([Object(i.b)({constructOnly:!0})],o.prototype,"tileInfo",void 0),Object(n.a)([Object(i.b)({constructOnly:!0})],o.prototype,"tileStore",void 0),o=Object(n.a)([Object(s.a)("esri.views.2d.layers.features.processors.BaseProcessor")],o),t.a=o},vbiG:function(e,t,r){"use strict";var n=r("HaE+"),i=r("pO5D"),s=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),a=r("04ZG"),o=(r("4EHJ"),r("ju1D"),r("9AIY"),r("9MzC")),c=r("/CmD"),l=r("f4Nx"),u=r("OvF4"),f=r("kYAx"),d=r("3/ME"),h=r("rlSK"),p=r("AY31");const y=Math.PI/180;var b=r("xzrc");const m=Object(f.e)(),g=[0,0],O=new h.a(0,0,0,0);let j=class extends c.a{constructor(e){var t;super(e),t=this,this._imagePromise=null,this.hidpi=!1,this.imageMaxWidth=2048,this.imageMaxHeight=2048,this.imageRotationSupported=!1,this.imageNormalizationSupported=!1,this.update=Object(o.i)(function(){var e=Object(n.a)(function*(e,r){const i=e.state,s=Object(l.d)(i.spatialReference),a=t.hidpi?e.pixelRatio:1;if(!e.stationary||t.destroyed)return null;t.imageRotationSupported?(g[0]=i.size[0],g[1]=i.size[1]):function(e,t){const r=t.rotation*y,n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),[s,a]=t.size;e[0]=Math.round(a*i+s*n),e[1]=Math.round(a*n+s*i)}(g,i);const o=Math.floor(g[0]*a)>t.imageMaxWidth||Math.floor(g[1]*a)>t.imageMaxHeight,c=!t.imageNormalizationSupported&&s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),u=t.imageRotationSupported?i.rotation:0;if(o||c){let e=Math.min(t.imageMaxWidth,t.imageMaxHeight);c&&(e=Math.min(i.worldScreenWidth,e)),t._imagePromise=t._tiledExport(i,e,u,a,r)}else t._imagePromise=t._singleExport(i,g,u,a,r);return t._imagePromise.then(function(){var e=Object(n.a)(function*(e){if(t._imagePromise=null,!t.destroyed){for(const r of t.container.children)e.includes(r)||r.fadeOut().then(()=>{r.remove()});for(const r of e)t.container.addChild(r),r.fadeIn()}});return function(t){return e.apply(this,arguments)}}()).catch(e=>{throw t._imagePromise=null,e})});return function(t,r){return e.apply(this,arguments)}}(),5e3)}destroy(){}get updating(){return null!==this._imagePromise}updateExports(e){for(const t of this.container.children){if(!t.visible||!t.stage)return;e(t)?console.error("ExportStrategy.updateExports doesn't support promise yet"):(t.invalidateTexture(),t.requestRender())}}_export(e,t,r,n,i,s){return Promise.resolve().then(()=>this.fetchSource(e,Math.floor(t*i),Math.floor(r*i),{rotation:n,pixelRatio:i,signal:s})).then(r=>{const s=new b.a(r,"additive");return s.x=e.xmin,s.y=e.ymax,s.resolution=e.width/t,s.rotation=n,s.pixelRatio=i,s})}_singleExport(e,t,r,n,i){!function(e,t,r,n){const[i,s]=t,[a,o]=n,c=.5*r;e[0]=i-c*a,e[1]=s-c*o,e[2]=i+c*a,e[3]=s+c*o}(m,e.center,e.resolution,t);const s=new u.a(m[0],m[1],m[2],m[3],e.spatialReference);return this._export(s,t[0],t[1],r,n,i).then(e=>[e])}_tiledExport(e,t,r,n,i){const s=d.a.create({size:t,spatialReference:e.spatialReference,scales:[e.scale]}),a=new p.a(s),o=a.getTileCoverage(e);if(!o)return null;const c=[];return o.forEach((s,o,l,f)=>{O.set(s,o,l,f),a.getTileBounds(m,O);const d=new u.a(m[0],m[1],m[2],m[3],e.spatialReference);c.push(this._export(d,t,t,r,n,i))}),Promise.all(c)}};Object(i.a)([Object(s.b)()],j.prototype,"_imagePromise",void 0),Object(i.a)([Object(s.b)()],j.prototype,"container",void 0),Object(i.a)([Object(s.b)()],j.prototype,"fetchSource",void 0),Object(i.a)([Object(s.b)()],j.prototype,"hidpi",void 0),Object(i.a)([Object(s.b)()],j.prototype,"imageMaxWidth",void 0),Object(i.a)([Object(s.b)()],j.prototype,"imageMaxHeight",void 0),Object(i.a)([Object(s.b)()],j.prototype,"imageRotationSupported",void 0),Object(i.a)([Object(s.b)()],j.prototype,"imageNormalizationSupported",void 0),Object(i.a)([Object(s.b)()],j.prototype,"requestUpdate",void 0),Object(i.a)([Object(s.b)()],j.prototype,"updating",null),j=Object(i.a)([Object(a.a)("esri.views.2d.layers.support.ExportStrategy")],j),t.a=j},xzrc:function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r("wSAH");var n=r("HJJS"),i=r("jHF5"),s=r("c46T"),a=(r("n4uK"),r("GVa1"),r("of9L")),o=(r("0meK"),r("fEsP")),c=r("iUxC");function l(e,t,r){const n={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return t&&r&&(n.width=t,n.height=r),new a.a(e,n)}class u extends o.a{constructor(e=null,t,r=!0){super(),this.requestRenderOnSourceChangedEnabled=r,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.transforms={dvs:Object(i.b)()},this.blendFunction=t,this.source=e,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(e){this._height=e}get source(){return this._source}set source(e){this._source=e,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(e){this._width=e}beforeRender(e){super.beforeRender(e),this.updateTexture(e)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}setTransform(e){const t=Object(n.d)(this.transforms.dvs),[r,i]=e.toScreenNoRotation([0,0],this.x,this.y),a=this.resolution/this.pixelRatio/e.resolution,o=a*this.width,c=a*this.height,l=Math.PI*this.rotation/180;Object(n.a)(t,t,Object(s.b)(r,i)),Object(n.a)(t,t,Object(s.b)(o/2,c/2)),Object(n.h)(t,t,-l),Object(n.a)(t,t,Object(s.b)(-o/2,-c/2)),Object(n.e)(t,t,Object(s.b)(o,c)),Object(n.f)(this.transforms.dvs,e.displayViewMat3,t)}setSamplingProfile(e){this._texture&&(e.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(e.samplingMode))}bind({context:e},t){this._texture&&e.bindTexture(this._texture,t)}updateTexture({context:e}){var t;if(!this.stage)return null==(t=this._texture)||t.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this._texture=this.source?l(e,this.sourceWidth,this.sourceHeight):l(e));const r=this.source;if(r){if(this._texture.resize(this.sourceWidth,this.sourceHeight),function(e){return e&&"render"in e}(r))if(r instanceof c.a){const e=r.getRenderedRasterPixels();this._texture.setData(e.renderedRasterPixels)}else this._texture.setData(function(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,e.render(t.getContext("2d")),t}(r));else(function(e){return e&&!("render"in e)})(r)&&this._texture.setData(r);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}}}]);